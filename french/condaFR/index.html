
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../introFR/">
      
      
        <link rel="next" href="../sdmxFR/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.11">
    
    
      
        <title>Python (Conda) - L’Environnement Géospatial</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0d440cfe.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="red">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#python-conda" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href=".." title="L’Environnement Géospatial" class="md-header__button md-logo" aria-label="L’Environnement Géospatial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            L’Environnement Géospatial
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Python (Conda)
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="L’Environnement Géospatial" class="md-nav__button md-logo" aria-label="L’Environnement Géospatial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    L’Environnement Géospatial
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        À propos du guide de l’EAG de l’ADS
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../faqFR/" class="md-nav__link">
        Contact
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../quickFR/" class="md-nav__link">
        Démarrage rapide
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../loginFR/" class="md-nav__link">
        Connexion
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../vmFR/" class="md-nav__link">
        Machine virtuelle
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../postgresqlFR/" class="md-nav__link">
        PostgreSQL + PostGIS
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Écosystème ArcGIS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Écosystème ArcGIS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../portalFR/" class="md-nav__link">
        ArcGIS Portal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../proFR/" class="md-nav__link">
        ArcGIS Pro
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../insightsFR/" class="md-nav__link">
        ArcGIS Insights
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../qgisFR/" class="md-nav__link">
        QGIS
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          Multi-plateforme (ETAA/EAC)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Multi-plateforme (ETAA/EAC)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../aawFR/" class="md-nav__link">
        ETAA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../caeFR/" class="md-nav__link">
        EAC
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" checked>
      
      
      
        <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
          Centre de connaissances
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Centre de connaissances
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introFR/" class="md-nav__link">
        Introduction simple au SIG
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Python (Conda)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Python (Conda)
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#environnements-virtuels" class="md-nav__link">
    Environnements virtuels
  </a>
  
    <nav class="md-nav" aria-label="Environnements virtuels">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creer-un-nouvel-environnement" class="md-nav__link">
    Créer un nouvel environnement
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#activer-votre-environnement-remplacer-__" class="md-nav__link">
    Activer votre environnement (remplacer &lt;__&gt;):
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-des-paquets" class="md-nav__link">
    Installation des paquets:
  </a>
  
    <nav class="md-nav" aria-label="Installation des paquets:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conda" class="md-nav__link">
    Conda
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pip" class="md-nav__link">
    PIP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#confirmez-linstallation-de-votre-paquet" class="md-nav__link">
    Confirmez l'installation de votre paquet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quelques-exemples-de-base" class="md-nav__link">
    Quelques exemples de base :
  </a>
  
    <nav class="md-nav" aria-label="Quelques exemples de base :">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transformer-wfs-en-dataframe-pandas" class="md-nav__link">
    Transformer WFS en dataframe pandas:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shapefile-en-geodataframe-spatial-dataframe" class="md-nav__link">
    Shapefile en GeoDataFrame (Spatial DataFrame)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exportez-la-geodataframe-vers-arcgis-enterprise" class="md-nav__link">
    Exportez la GeoDataFrame vers ArcGIS Enterprise
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#joindre-un-fichier-csv-a-un-fichier-shp-en-tant-que-sdf-puis-exporter-vers-arcgis-enterprise" class="md-nav__link">
    Joindre un fichier CSV à un fichier SHP (en tant que sdf) puis exporter vers ArcGIS Enterprise.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raster-analysis-with-gdal" class="md-nav__link">
    Raster Analysis with GDAL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conda-ide-memoire" class="md-nav__link">
    Conda ide-mémoire
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sdmxFR/" class="md-nav__link">
        SDMX
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../resourcesFR/" class="md-nav__link">
        Formation et tutoriels
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../langues/" class="md-nav__link">
        Langues
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#environnements-virtuels" class="md-nav__link">
    Environnements virtuels
  </a>
  
    <nav class="md-nav" aria-label="Environnements virtuels">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creer-un-nouvel-environnement" class="md-nav__link">
    Créer un nouvel environnement
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#activer-votre-environnement-remplacer-__" class="md-nav__link">
    Activer votre environnement (remplacer &lt;__&gt;):
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-des-paquets" class="md-nav__link">
    Installation des paquets:
  </a>
  
    <nav class="md-nav" aria-label="Installation des paquets:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conda" class="md-nav__link">
    Conda
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pip" class="md-nav__link">
    PIP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#confirmez-linstallation-de-votre-paquet" class="md-nav__link">
    Confirmez l'installation de votre paquet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quelques-exemples-de-base" class="md-nav__link">
    Quelques exemples de base :
  </a>
  
    <nav class="md-nav" aria-label="Quelques exemples de base :">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transformer-wfs-en-dataframe-pandas" class="md-nav__link">
    Transformer WFS en dataframe pandas:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shapefile-en-geodataframe-spatial-dataframe" class="md-nav__link">
    Shapefile en GeoDataFrame (Spatial DataFrame)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exportez-la-geodataframe-vers-arcgis-enterprise" class="md-nav__link">
    Exportez la GeoDataFrame vers ArcGIS Enterprise
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#joindre-un-fichier-csv-a-un-fichier-shp-en-tant-que-sdf-puis-exporter-vers-arcgis-enterprise" class="md-nav__link">
    Joindre un fichier CSV à un fichier SHP (en tant que sdf) puis exporter vers ArcGIS Enterprise.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raster-analysis-with-gdal" class="md-nav__link">
    Raster Analysis with GDAL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conda-ide-memoire" class="md-nav__link">
    Conda ide-mémoire
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="python-conda">Python &amp; Conda</h1>
<h2 id="environnements-virtuels">Environnements virtuels</h2>
<h3 id="creer-un-nouvel-environnement">Créer un nouvel environnement</h3>
<details class="tip">
<summary>Meilleure pratique : travailler avec des environnements virtuels Conda</summary>
<p>L'utilisation d'environnements virtuels avec Conda peut vous aider à créer des environnements cohérents, reproductibles et isolés pour vos projets, ce qui peut vous faire gagner du temps et éviter les problèmes causés par des dépendances conflictuelles ou des modifications au niveau du système.</p>
<p>Par exemple, les produits ArcGIS fonctionnent mieux avec <em>python 3.7</em>. En créant un environnement ArcGIS séparé, vous pouvez installer la version 3.7 sans provoquer de conflits avec la version moderne de python 3.10.</p>
</details>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">conda</span> <span class="n">create</span> <span class="o">--</span><span class="n">name</span> <span class="o">&lt;</span><span class="n">env_name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">package</span><span class="o">&gt;</span>
</code></pre></div>
exemple:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">conda</span> <span class="n">create</span> <span class="o">--</span><span class="n">n</span> <span class="n">arc</span> <span class="n">python</span><span class="o">=</span><span class="mf">3.7</span>
</code></pre></div></p>
<h3 id="activer-votre-environnement-remplacer-__">Activer votre environnement <em>(remplacer &lt;__&gt;)</em>:</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">conda</span> <span class="n">activate</span> <span class="o">&lt;</span><span class="n">env_name</span><span class="o">&gt;</span>
</code></pre></div>
<h2 id="installation-des-paquets">Installation des paquets:</h2>
<details class="info">
<summary>Paquets géo-spécifiques communs disponibles</summary>
<p>Cette liste n'est pas exhaustive, mais voici quelques-uns des paquets les plus courants:</p>
<div class="highlight"><pre><span></span><code>- GeoPandas
- Shapely
- Fiona
- GDAL/OGR
- PyProj
- Cartopy
- Rasterio
- Geoplot
- Basemap
- Bokeh
- PySAL
- Spatial Pandas
- NetworkX
- PyShp
- TileStache
- GdalUtils
- Scipy
- PyTopo
- Geopy
- Plotly
</code></pre></div>
</details>
<h3 id="conda">Conda</h3>
<p>La plateforme d’ADS utilise <em>Artifactory</em> pour la gestion des paquets et des bibliothèques :
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>https://jfrog.aaw.cloud.statcan.ca/artifactory/conda-forge-remote
</code></pre></div></p>
<p><strong>À utiliser:</strong></p>
<p>La forge minimale et l'artefactaire Conda ont déjà été ajoutés à votre chemin système.</p>
<p><strong>Vous ne devriez pas avoir besoin de spécifier le canal.</strong></p>
<p>Si cela échoue, nous avons inclus des exemples sur les connexions directes après les exemples simples.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">conda</span> <span class="n">install</span> <span class="p">[</span><span class="n">package</span><span class="p">]</span>
</code></pre></div>
<p>Pour des versions spécifiques
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">conda</span> <span class="n">install</span> <span class="n">geopandas</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">conda</span> <span class="n">install</span> <span class="n">matplotlib</span><span class="o">=</span><span class="mf">3.7.0</span>
</code></pre></div></p>
<p>En se connectant directement au 'artifactory channel'</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">jfrog</span><span class="o">.</span><span class="n">aaw</span><span class="o">.</span><span class="n">cloud</span><span class="o">.</span><span class="n">statcan</span><span class="o">.</span><span class="n">ca</span><span class="o">/</span><span class="n">artifactory</span><span class="o">/</span><span class="n">conda</span><span class="o">-</span><span class="n">forge</span><span class="o">-</span><span class="n">remote</span><span class="o">/</span> <span class="p">[</span><span class="n">package</span><span class="p">]</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">jfrog</span><span class="o">.</span><span class="n">aaw</span><span class="o">.</span><span class="n">cloud</span><span class="o">.</span><span class="n">statcan</span><span class="o">.</span><span class="n">ca</span><span class="o">/</span><span class="n">artifactory</span><span class="o">/</span><span class="n">conda</span><span class="o">-</span><span class="n">forge</span><span class="o">-</span><span class="n">remote</span><span class="o">/</span> <span class="p">[</span><span class="n">package</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">X</span><span class="o">...</span><span class="p">]</span>
</code></pre></div>
<h3 id="pip">PIP</h3>
<p>Pour PIP, vous <strong>doit</strong> spécifier le dépôt :
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>https://jfrog.aaw.cloud.statcan.ca/artifactory/api/pypi/pypi-remote/simple
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">pip</span> <span class="n">install</span> <span class="p">[</span><span class="n">package</span><span class="p">]</span> <span class="o">-</span><span class="n">i</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">jfrog</span><span class="o">.</span><span class="n">aaw</span><span class="o">.</span><span class="n">cloud</span><span class="o">.</span><span class="n">statcan</span><span class="o">.</span><span class="n">ca</span><span class="o">/</span><span class="n">artifactory</span><span class="o">/</span><span class="n">pypi</span><span class="o">-</span><span class="n">remote</span><span class="o">/.</span><span class="n">pypi</span><span class="o">/</span>
</code></pre></div>
<h3 id="confirmez-linstallation-de-votre-paquet">Confirmez l'installation de votre paquet</h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">conda</span> <span class="nb">list</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">pip</span> <span class="nb">list</span>
</code></pre></div></p>
<hr />
<h2 id="quelques-exemples-de-base">Quelques exemples de base :</h2>
<h3 id="transformer-wfs-en-dataframe-pandas">Transformer WFS en dataframe pandas:</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="n">wfs_url</span> <span class="o">=</span> <span class="s1">&#39;https://mywfs.com/wfs&#39;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="n">layer_name</span> <span class="o">=</span> <span class="s1">&#39;my_layer&#39;</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="n">gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">wfs_url</span><span class="p">,</span> <span class="n">layer</span><span class="o">=</span><span class="n">layer_name</span><span class="p">)</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="n">df</span> <span class="o">=</span> <span class="n">gdf</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;geometry&#39;</span><span class="p">)</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</code></pre></div>
<h3 id="shapefile-en-geodataframe-spatial-dataframe">Shapefile en GeoDataFrame (Spatial DataFrame)</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="n">shapefile_path</span> <span class="o">=</span> <span class="s1">&#39;path/to/your/shapefile.shp&#39;</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="n">gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">shapefile_path</span><span class="p">)</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="nb">print</span><span class="p">(</span><span class="n">gdf</span><span class="p">)</span>
</code></pre></div>
<h3 id="exportez-la-geodataframe-vers-arcgis-enterprise">Exportez la GeoDataFrame vers ArcGIS Enterprise</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kn">from</span> <span class="nn">arcgis.gis</span> <span class="kn">import</span> <span class="n">GIS</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="n">portal_url</span> <span class="o">=</span> <span class="s1">&#39;https://geoanalytics.cloud.statcan.ca/portal/&#39;</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="n">gis</span> <span class="o">=</span> <span class="n">GIS</span><span class="p">(</span><span class="n">portal_url</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="n">layer_name</span> <span class="o">=</span> <span class="s1">&#39;your_layer_name&#39;</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="n">feature_layer</span> <span class="o">=</span> <span class="n">gis</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">import_data</span><span class="p">(</span><span class="n">gdf</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">layer_name</span><span class="p">)</span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="nb">print</span><span class="p">(</span><span class="n">feature_layer</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</code></pre></div>
<h3 id="joindre-un-fichier-csv-a-un-fichier-shp-en-tant-que-sdf-puis-exporter-vers-arcgis-enterprise">Joindre un fichier CSV à un fichier SHP (en tant que sdf) puis exporter vers ArcGIS Enterprise.</h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="kn">from</span> <span class="nn">arcgis.gis</span> <span class="kn">import</span> <span class="n">GIS</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="kn">from</span> <span class="nn">arcgis.features</span> <span class="kn">import</span> <span class="n">SpatialDataFrame</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="n">csv_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;path/to/csv_file.csv&#39;</span><span class="p">)</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="n">sdf</span> <span class="o">=</span> <span class="n">SpatialDataFrame</span><span class="o">.</span><span class="n">from_featureclass</span><span class="p">(</span><span class="s1">&#39;path/to/spatial_data.shp&#39;</span><span class="p">)</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="n">joined_sdf</span> <span class="o">=</span> <span class="n">sdf</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">csv_df</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;common_field&#39;</span><span class="p">)</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="n">gis</span> <span class="o">=</span> <span class="n">GIS</span><span class="p">(</span><span class="s1">&#39;https://geoanalytics.cloud.statcan.ca/portal/&#39;</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="n">joined_fc</span> <span class="o">=</span> <span class="n">joined_sdf</span><span class="o">.</span><span class="n">spatial</span><span class="o">.</span><span class="n">to_featureclass</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="s1">&#39;path/to/output.gdb&#39;</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="n">joined_item</span> <span class="o">=</span> <span class="n">gis</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">add</span><span class="p">({</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Feature Service&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Joined Data&#39;</span><span class="p">,</span> <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="s1">&#39;Data&#39;</span><span class="p">},</span> <span class="n">data</span><span class="o">=</span><span class="n">joined_fc</span><span class="p">)</span>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="n">joined_item</span><span class="o">.</span><span class="n">publish</span><span class="p">()</span>
</code></pre></div>
Ce code commence par charger un fichier CSV dans un dataframe Pandas en utilisant la fonction pd.read_csv(). Ensuite, il charge un jeu de données spatiales dans un SpatialDataFrame en utilisant la méthode SpatialDataFrame.from_featureclass() de l'API ArcGIS pour Python. Les deux dataframes sont ensuite joints en fonction d'un champ commun à l'aide de la méthode merge() du SpatialDataFrame.</p>
<p>Enfin, le SpatialDataFrame joint est exporté vers une classe d'entités en utilisant la méthode spatial.to_featureclass() du SpatialDataFrame, puis publié sur ArcGIS Enterprise en utilisant les méthodes gis.content.add() et publish() de l'API ArcGIS pour Python. Notez que vous devrez remplacer les chemins d'exemple et l'URL du serveur par les chemins et l'URL réels pour vos données et votre instance d'ArcGIS Enterprise.</p>
<h3 id="raster-analysis-with-gdal">Raster Analysis with GDAL</h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kn">from</span> <span class="nn">osgeo</span> <span class="kn">import</span> <span class="n">gdal</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="n">raster_ds</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="s1">&#39;path/to/raster.tif&#39;</span><span class="p">)</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="n">raster_band</span> <span class="o">=</span> <span class="n">raster_ds</span><span class="o">.</span><span class="n">GetRasterBand</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="n">raster_array</span> <span class="o">=</span> <span class="n">raster_band</span><span class="o">.</span><span class="n">ReadAsArray</span><span class="p">()</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="n">mean_value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">raster_array</span><span class="p">)</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mean pixel value: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mean_value</span><span class="p">))</span>
</code></pre></div>
Ce code ouvre un fichier raster en utilisant la méthode gdal.Open() et lit le premier bande du raster dans un tableau NumPy en utilisant la méthode ReadAsArray() de l'objet gdal.Band. Ensuite, il effectue une analyse sur les données raster, dans ce cas en calculant la valeur moyenne des pixels en utilisant la fonction np.mean() de NumPy. Enfin, il affiche le résultat dans la console.</p>
<p>Vous pouvez modifier ce code pour effectuer d'autres types d'analyse sur les données raster, telles que calculer les valeurs minimales, maximales ou d'écart type des pixels, ou effectuer des calculs entre plusieurs bandes. GDAL fournit une large gamme de fonctions et d'outils pour travailler avec des données raster, donc les possibilités sont presque infinies.</p>
<hr />
<h2 id="conda-ide-memoire">Conda ide-mémoire</h2>
<p><img alt="conda cheat" src="../imagesFR/conda-cheatsheeta.png" /></p>
<p><strong><a href="https://docs.conda.io/projects/conda/en/4.6.0/_downloads/52a95608c49671267e40c689e0bc00ca/conda-cheatsheet.pdf">Lien vers la version intégrale de l’aide-mémoire Conda</a></strong></p>
<hr />
<p><a href="https://github.com/StatCan/cae-eac/blob/Artifactory-draft/docs/en/Artifactory.md">En savoir davantage sur Artifactory</a></p>
<p><a href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">En savoir davantage sur Conda</a></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © 2023 Statistics Canada; DAS-GAE Early Adopter's Guide; V.1.1.0
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["tabs"], "search": "../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.6df46069.min.js"></script>
      
    
  </body>
</html>
