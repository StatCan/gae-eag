
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../qgisFR/">
      
      
        <link rel="next" href="../caeFR/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.11">
    
    
      
        <title>ETAA - L’Environnement Géospatial</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0d440cfe.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="red">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quest-ce-que-letaa" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href=".." title="L’Environnement Géospatial" class="md-header__button md-logo" aria-label="L’Environnement Géospatial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            L’Environnement Géospatial
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ETAA
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="L’Environnement Géospatial" class="md-nav__button md-logo" aria-label="L’Environnement Géospatial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    L’Environnement Géospatial
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        À propos du guide de l’EAG de l’ADS
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../faqFR/" class="md-nav__link">
        Contact
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../quickFR/" class="md-nav__link">
        Démarrage rapide
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../loginFR/" class="md-nav__link">
        Connexion
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../vmFR/" class="md-nav__link">
        Machine virtuelle
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../postgresqlFR/" class="md-nav__link">
        PostgreSQL + PostGIS
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Écosystème ArcGIS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Écosystème ArcGIS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../portalFR/" class="md-nav__link">
        ArcGIS Portal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../proFR/" class="md-nav__link">
        ArcGIS Pro
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../insightsFR/" class="md-nav__link">
        ArcGIS Insights
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../qgisFR/" class="md-nav__link">
        QGIS
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          Multi-plateforme (ETAA/EAC)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Multi-plateforme (ETAA/EAC)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          ETAA
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        ETAA
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#demarrage-dans-letaa" class="md-nav__link">
    Démarrage dans l’ETAA
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connexion-au-portail-arcgis-enterprise-a-laide-de-linterface-de-protocole-dapplication-arcgis" class="md-nav__link">
    Connexion au portail ArcGIS Enterprise à l’aide de l’interface de protocole d’application ArcGIS
  </a>
  
    <nav class="md-nav" aria-label="Connexion au portail ArcGIS Enterprise à l’aide de l’interface de protocole d’application ArcGIS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#se-connecter-au-portail" class="md-nav__link">
    Se connecter au portail
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#afficher-les-renseignements-sur-lutilisateur" class="md-nav__link">
    Afficher les renseignements sur l’utilisateur
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rechercher-du-contenu" class="md-nav__link">
    Rechercher du contenu
  </a>
  
    <nav class="md-nav" aria-label="Rechercher du contenu">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recherchez-tous-vos-elements-heberges-dans-le-portail-ads-geo" class="md-nav__link">
    Recherchez tous vos éléments hébergés dans le portail ADS-Géo.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recherchez-le-contenu-particulier-qui-vous-appartient-dans-le-portail-ads-geo" class="md-nav__link">
    Recherchez le contenu particulier qui vous appartient dans le portail ADS-Géo..
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effectuez-des-recherches-dans-tout-le-contenu-auquel-vous-avez-acces-et-pas-seulement-dans-le-votre" class="md-nav__link">
    Effectuez des recherches dans tout le contenu auquel vous avez accès, et pas seulement dans le vôtre..
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obtenir-du-contenu-a-utiliser-dans-le-bloc-notes-jupyter" class="md-nav__link">
    Obtenir du contenu à utiliser dans le bloc-notes Jupyter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effectuer-une-analyse" class="md-nav__link">
    Effectuer une analyse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mettre-a-jour-des-elements" class="md-nav__link">
    Mettre à jour des éléments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualize-your-data-on-an-interactive-map" class="md-nav__link">
    Visualize Your Data on an Interactive Map
  </a>
  
    <nav class="md-nav" aria-label="Visualize Your Data on an Interactive Map">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bibliotheque-ipyleaflet" class="md-nav__link">
    Bibliothèque ipyleaflet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bibliotheque-leafmap" class="md-nav__link">
    Bibliothèque leafmap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bibliotheque-leafmap-avec-extension-kepler" class="md-nav__link">
    Bibliothèque leafmap avec extension Kepler
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../caeFR/" class="md-nav__link">
        EAC
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
      
      
      
        <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
          Centre de connaissances
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Centre de connaissances
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introFR/" class="md-nav__link">
        Introduction simple au SIG
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../condaFR/" class="md-nav__link">
        Python (Conda)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sdmxFR/" class="md-nav__link">
        SDMX
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../resourcesFR/" class="md-nav__link">
        Formation et tutoriels
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../langues/" class="md-nav__link">
        Langues
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#demarrage-dans-letaa" class="md-nav__link">
    Démarrage dans l’ETAA
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connexion-au-portail-arcgis-enterprise-a-laide-de-linterface-de-protocole-dapplication-arcgis" class="md-nav__link">
    Connexion au portail ArcGIS Enterprise à l’aide de l’interface de protocole d’application ArcGIS
  </a>
  
    <nav class="md-nav" aria-label="Connexion au portail ArcGIS Enterprise à l’aide de l’interface de protocole d’application ArcGIS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#se-connecter-au-portail" class="md-nav__link">
    Se connecter au portail
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#afficher-les-renseignements-sur-lutilisateur" class="md-nav__link">
    Afficher les renseignements sur l’utilisateur
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rechercher-du-contenu" class="md-nav__link">
    Rechercher du contenu
  </a>
  
    <nav class="md-nav" aria-label="Rechercher du contenu">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recherchez-tous-vos-elements-heberges-dans-le-portail-ads-geo" class="md-nav__link">
    Recherchez tous vos éléments hébergés dans le portail ADS-Géo.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recherchez-le-contenu-particulier-qui-vous-appartient-dans-le-portail-ads-geo" class="md-nav__link">
    Recherchez le contenu particulier qui vous appartient dans le portail ADS-Géo..
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effectuez-des-recherches-dans-tout-le-contenu-auquel-vous-avez-acces-et-pas-seulement-dans-le-votre" class="md-nav__link">
    Effectuez des recherches dans tout le contenu auquel vous avez accès, et pas seulement dans le vôtre..
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obtenir-du-contenu-a-utiliser-dans-le-bloc-notes-jupyter" class="md-nav__link">
    Obtenir du contenu à utiliser dans le bloc-notes Jupyter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effectuer-une-analyse" class="md-nav__link">
    Effectuer une analyse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mettre-a-jour-des-elements" class="md-nav__link">
    Mettre à jour des éléments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualize-your-data-on-an-interactive-map" class="md-nav__link">
    Visualize Your Data on an Interactive Map
  </a>
  
    <nav class="md-nav" aria-label="Visualize Your Data on an Interactive Map">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bibliotheque-ipyleaflet" class="md-nav__link">
    Bibliothèque ipyleaflet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bibliotheque-leafmap" class="md-nav__link">
    Bibliothèque leafmap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bibliotheque-leafmap-avec-extension-kepler" class="md-nav__link">
    Bibliothèque leafmap avec extension Kepler
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="quest-ce-que-letaa">Qu’est-ce que l’ETAA?</h1>
<p><a href="https://analytics-platform.statcan.gc.ca/covid19">L’Espace de travail d’analyse avancée (ETAA) Advanced Analytics Workspace</a> fournit des outils d’analyse et d’intelligence artificielle de source ouverte de pointe ainsi qu’une capacité de calcul pour les charges de travail modernes en science des données.
<br/>
<br/></p>
<h2 id="demarrage-dans-letaa">Démarrage dans l’ETAA</h2>
<p>L’utilisation du bloc-notes Jupyter dans l’ETAA permet aux utilisateurs de se connecter au portail ArcGIS Enterprise à l’aide de diverses interfaces de protocole d’application Python. Reportez-vous à la section <a href="https://statcan.github.io/daaas/en/">Démarrage</a>dans l’ETAA et à l’utilisation de <a href="https://statcan.github.io/daaas/en/1-Experiments/Jupyter/">Jupyter Notebooks</a> dans l’espace. <br />
<br/></p>
<h2 id="connexion-au-portail-arcgis-enterprise-a-laide-de-linterface-de-protocole-dapplication-arcgis">Connexion au portail ArcGIS Enterprise à l’aide de l’interface de protocole d’application ArcGIS</h2>
<h3 id="se-connecter-au-portail">Se connecter au portail</h3>
<p>Une fois le bloc-notes Jupyter configuré dans l’environnement de l’ETAA, suivez l’exemple de code ci-dessous pour vous familiariser avec les commandes de base permettant d’accéder au contenu du portail ArcGIS Enterprise.
<br/>
<br/>
Commencez par coller  <code>conda install -c esri arcgis</code> dans le bloc-notes, puis cliquez sur Run (exécuter). Cela vous permettra d’installer facilement des bibliothèques dans votre environnement Python.
Importez les bibliothèques nécessaires dont vous aurez besoin dans le bloc-notes.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">arcgis.gis</span> <span class="kn">import</span> <span class="n">GIS</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">arcgis.gis</span> <span class="kn">import</span> <span class="n">Item</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span>
</code></pre></div>
Lors de l’intégration, votre groupe de projet recevra un identificateur de client qui sera utilisé pour se connecter au portail ArcGIS Enterprise. Collez l’identificateur de client entre les guillemets. <br/><code>client_id=' '</code>. 
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">gis</span> <span class="o">=</span> <span class="n">GIS</span><span class="p">(</span><span class="s2">&quot;https://geoanalyticsdev.cloud.statcan.ca/portal&quot;</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Successfully logged in as: &quot;</span> <span class="o">+</span> <span class="n">gis</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">username</span><span class="p">)</span>
</code></pre></div>
La sortie vous redirigera vers une page Web où vous pouvez vous connecter au portail en utilisant l’option de connexion StatCan Azure. Une fois que vous aurez réussi à ouvrir une session, vous recevrez un code pour vous connecter en utilisant le langage de balisage des déclarations de sécurité (SAML). Collez ce code dans la sortie.</p>
<p><img alt="OAuth2 Approval" src="../imagesFR/OAuth2Key.png" /></p>
<h2 id="afficher-les-renseignements-sur-lutilisateur">Afficher les renseignements sur l’utilisateur</h2>
<p>En utilisant la fonction « me » (moi), nous pouvons afficher divers renseignements sur l’utilisateur connecté.
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">me</span> <span class="o">=</span> <span class="n">gis</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">me</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">username</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">username</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="n">description</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">description</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="n">display</span><span class="p">(</span><span class="n">me</span><span class="p">)</span>
</code></pre></div></p>
<h2 id="rechercher-du-contenu">Rechercher du contenu</h2>
<p>Recherchez le contenu que vous avez hébergé sur le portail ADS-Géo. En utilisant la fonction « me » (moi), nous pouvons rechercher tout le contenu hébergé sur le compte. Il y a plusieurs façons de rechercher du contenu. Deux méthodes différentes sont présentées ci-dessous.</p>
<h3 id="recherchez-tous-vos-elements-heberges-dans-le-portail-ads-geo">Recherchez tous vos éléments hébergés dans le portail ADS-Géo.</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">my_content</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">my_content</span>
</code></pre></div>
<h3 id="recherchez-le-contenu-particulier-qui-vous-appartient-dans-le-portail-ads-geo">Recherchez le contenu particulier qui vous appartient dans le portail ADS-Géo..</h3>
<p>C’est semblable à l’exemple ci-dessus, mais si vous connaissez le titre de la couche que vous souhaitez utiliser, vous pouvez l’enregistrer comme une fonction.
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">my_items</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="k">for</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">my_items</span><span class="p">:</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    <span class="nb">print</span><span class="p">(</span><span class="n">items</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="s2">&quot; | &quot;</span><span class="p">,</span> <span class="n">items</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    <span class="k">if</span> <span class="n">items</span><span class="o">.</span><span class="n">title</span> <span class="o">==</span> <span class="s2">&quot;Flood in Sorel-Tracy&quot;</span><span class="p">:</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>        <span class="n">flood_item</span> <span class="o">=</span> <span class="n">items</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>        <span class="k">continue</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="nb">print</span><span class="p">(</span><span class="n">flood_item</span><span class="p">)</span>
</code></pre></div></p>
<h3 id="effectuez-des-recherches-dans-tout-le-contenu-auquel-vous-avez-acces-et-pas-seulement-dans-le-votre">Effectuez des recherches dans tout le contenu auquel vous avez accès, et pas seulement dans le vôtre..</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">flood_item</span> <span class="o">=</span> <span class="n">gis</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;tags: flood&quot;</span><span class="p">,</span> <span class="n">item_type</span> <span class="o">=</span><span class="s2">&quot;Feature Service&quot;</span><span class="p">)</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">flood_item</span>
</code></pre></div>
<h3 id="obtenir-du-contenu-a-utiliser-dans-le-bloc-notes-jupyter">Obtenir du contenu à utiliser dans le bloc-notes Jupyter</h3>
<p>Nous devons obtenir l’élément du portail ADS-Géo afin de l’utiliser dans le bloc-notes Jupyter. Pour ce faire, vous devez fournir le numéro d’identification unique de l’élément que vous souhaitez utiliser. Trois exemples sont présentés ci-dessous, tous accédant à la même couche.
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">item1</span> <span class="o">=</span> <span class="n">gis</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">my_content</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">)</span> <span class="c1">#from searching your content above</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">display</span><span class="p">(</span><span class="n">item1</span><span class="p">)</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="n">item2</span> <span class="o">=</span> <span class="n">gis</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flood_item</span><span class="o">.</span><span class="n">id</span><span class="p">)</span> <span class="c1">#from example above -searching for specific content</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="n">display</span><span class="p">(</span><span class="n">item2</span><span class="p">)</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="n">item3</span> <span class="o">=</span> <span class="n">gis</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;edebfe03764b497f90cda5f0bfe727e2&#39;</span><span class="p">)</span> <span class="c1">#the actual content id number</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="n">display</span><span class="p">(</span><span class="n">item3</span><span class="p">)</span>
</code></pre></div></p>
<h3 id="effectuer-une-analyse">Effectuer une analyse</h3>
<p>Une fois les couches introduites dans le bloc-notes Jupyter, nous pouvons effectuer des analyses semblables à celles que l’on s’attendrait à trouver dans un logiciel du SIG tel qu’ArcGIS. Il existe de nombreux modules contenant de multiples sous-modèles qui peuvent effectuer plusieurs types d’analyses.</p>
<p>En utilisant le module <em>arcgis.features</em>, importez le sous-module use_proximity  <code>from arcgis.features import use_proximity</code>. Ce sous-module nous permet de créer des tampons (« create_buffers ») – des zones à distance égale des caractéristiques. Ici, nous précisons la couche que nous voulons utiliser, la distance, les unités et le nom de la sortie (vous pouvez également préciser d’autres caractéristiques telles que le champ, le type d’anneau, le type d’extrémité et autres). En précisant un nom de sortie, après avoir exécuté la commande de tampon, une nouvelle couche sera automatiquement téléchargée dans le portail ADS-Géo contenant la nouvelle caractéristique que vous venez de créer.
<br/></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">buffer_lyr</span> <span class="o">=</span> <span class="n">use_proximity</span><span class="o">.</span><span class="n">create_buffers</span><span class="p">(</span><span class="n">item1</span><span class="p">,</span> <span class="n">distances</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> 
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>                                          <span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;Kilometers&quot;</span><span class="p">,</span> 
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>                                          <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;item1_buffer&#39;</span><span class="p">)</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="n">display</span><span class="p">(</span><span class="n">item1_buffer</span><span class="p">)</span>
</code></pre></div>
<h3 id="mettre-a-jour-des-elements">Mettre à jour des éléments</h3>
<p>En récupérant l’élément comme nous l’avons fait dans l’exemple ci-dessus, nous pouvons utiliser la fonction de mise à jour (« .update ») pour mettre à jour l’élément existant dans le portail ADS-Géo. Nous pouvons mettre à jour les propriétés, les données, les miniatures et les métadonnées des éléments.
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">item1_buffer</span> <span class="o">=</span> <span class="n">gis</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;c60c7e57bdb846dnbd7c8226c80414d2&#39;</span><span class="p">)</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">item1_buffer</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">item_properties</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Enter Title&#39;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>                                     <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="s1">&#39;tag1, tag2, tag3, tag4&#39;</span><span class="p">,</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>                                     <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Enter description of item&#39;</span><span class="p">}</span>
</code></pre></div></p>
<h3 id="visualize-your-data-on-an-interactive-map">Visualize Your Data on an Interactive Map</h3>
<h4 id="bibliotheque-ipyleaflet">Bibliothèque ipyleaflet</h4>
<p>Dans cet exemple, nous utiliserons la bibliothèque « ipyleaflet » pour créer une carte interactive. Cette carte sera centrée autour de Toronto, en Ontario. Les données utilisées sont décrites ci-dessous. Commencez par coller  <code>conda install -c conda-forge ipyleaflet</code> ce qui vous permet d’installer les bibliothèques ipyleaflet dans l’environnement Python.
<br/>
Importez les bibliothèques nécessaires.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kn">import</span> <span class="nn">ipyleaflet</span> 
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="kn">from</span> <span class="nn">ipyleaflet</span> <span class="kn">import</span> <span class="o">*</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="kn">import</span> <span class="nn">json</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="kn">import</span> <span class="nn">os</span>
</code></pre></div>
Maintenant que nous avons importé le module aipyleaflet, nous pouvons créer une carte simple en précisant la latitude et la longitude de l’emplacement souhaité, le niveau de zoom et la carte de base  <a href="https://ipyleaflet.readthedocs.io/en/latest/map_and_basemaps/basemaps.html">(plus de cartes de base)</a>. Des contrôles supplémentaires ont été ajoutés, tels que les couches et l’échelle.
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">toronto_map</span> <span class="o">=</span> <span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mf">43.69</span><span class="p">,</span> <span class="o">-</span><span class="mf">79.35</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">basemap</span><span class="o">=</span><span class="n">basemaps</span><span class="o">.</span><span class="n">Esri</span><span class="o">.</span><span class="n">WorldStreetMap</span><span class="p">)</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="n">toronto_map</span><span class="o">.</span><span class="n">add_control</span><span class="p">(</span><span class="n">LayersControl</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="s1">&#39;topright&#39;</span><span class="p">))</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="n">toronto_map</span><span class="o">.</span><span class="n">add_control</span><span class="p">(</span><span class="n">ScaleControl</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="s1">&#39;bottomleft&#39;</span><span class="p">))</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="n">toronto_map</span>
</code></pre></div>
<br/>
<strong>Obtenir les données du portail</strong>
<br/>
Il convient de noter que ce gadget de cartographie n’interagit pas directement avec le portail ADS-Géo. Nous devrons exporter les couches que nous avons créées dans un format que le gadget ipyleaflet est en mesure de comprendre. Pour ce faire, nous allons les exporter vers un type de données GeoJSON.
<br/>
Tout d’abord, nous devons exporter l’élément en tant que « GeoJSON », puis télécharger l’élément depuis le portail et préciser un nouveau dossier dans lequel nous voulons ajouter l’élément.
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">item_export</span> <span class="o">=</span> <span class="n">item1_buffer</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="s1">&#39;item1_buffer_JSON&#39;</span><span class="p">,</span> <span class="n">export_format</span><span class="o">=</span><span class="s1">&#39;GeoJson&#39;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="s1">&#39;tag1, tag2, tag3&#39;</span><span class="p">)</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="n">item_download</span> <span class="o">=</span> <span class="n">item_export</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;item1_JSON&quot;</span><span class="p">)</span>
</code></pre></div>
Ensuite, il faut ajouter la couche à la carte interactive ipyleaflet.
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;item1_JSON/item1_buffer_JSON.geojson&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>    <span class="n">data1</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="n">item1_buffer_lyr</span> <span class="o">=</span> <span class="n">GeoJSON</span><span class="p">(</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>    <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>    <span class="n">style</span> <span class="o">=</span><span class="p">{</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>        <span class="s1">&#39;opacity&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>        <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#0000FF&#39;</span><span class="p">,</span>   <span class="c1"># Hex Code</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>        <span class="s1">&#39;fillColor&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span>   <span class="c1"># Text</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>        <span class="s1">&#39;fillOpacity&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>        <span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>    <span class="n">hover_style</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>        <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;white&#39;</span><span class="p">,</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>        <span class="s1">&#39;fillOpacity&#39;</span><span class="p">:</span> <span class="mf">0.5</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>    <span class="p">}</span>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="p">)</span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="n">toronto_map</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">item1_buffer_lyr</span><span class="p">)</span>
</code></pre></div>
En cliquant sur le code, la couche est automatiquement mise à jour sur la carte interactive ci dessus, et il n’est pas nécessaire de créer une carte distincte.
<img alt="ipyleaflet" src="../imagesFR/ipyleaflet_map.png" /></p>
<h4 id="bibliotheque-leafmap">Bibliothèque leafmap</h4>
<p>La bibliothèque leafmap est semblable à la bibliothèque ipyleaflet vue plus haut dans le sens où elle permet de visualiser les données sur une carte interactive. Elle comporte également une suite d’outils qui vous permettent de modifier les cartes de base, de télécharger des données, d’effectuer des analyses et bien d’autres fonctions. Commencez par coller  <code>conda install leafmap -c conda-forge</code> ce qui vous permet d’installer les bibliothèques leafmap dans l’environnement Python. Importez la bibliothèque leafmap:
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kn">import</span> <span class="nn">leafmap</span>
</code></pre></div>
Configurez une première carte:```python
toronto_map2 = leafmap.Map(center=[43.69, -79.35], zoom=11)
toronto_map2
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>Là encore, nous devrons utiliser des données GeoJSON. Nous n’effectuons pas d’analyse à cette étape puisqu’elle a déjà été réalisée. Nous faisons simplement appel aux données GeoJSON en précisant leur chemin dans le bloc-notes Jupyter. Nous avons également une fonction qui attribuera à chaque polygone une couleur aléatoire (dans notre cas, rouge ou bleu).).
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>```python
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>data2 = &#39;item1_JSON/item1_buffer_JSON.geojson&#39;
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>hover_style={
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>        &#39;color&#39;: &#39;white&#39;,
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>        &#39;fillColor&#39;: &#39;red&#39;,
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>        &#39;fillOpacity&#39;: 0.5
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>}
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>import random
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>def random_color(feature):
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>    return {
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>        &#39;color&#39;: &#39;black&#39;,
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>        &#39;fillColor&#39;: random.choice([&#39;red&#39;, &#39;blue&#39;]),
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>    }
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>
<a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a>toronto_map2.add_geojson(data2, layer_name=data2_name, style_callback=random_color, hover_style=hover_style)
</code></pre></div>
<img alt="leafmap" src="../imagesFR/leafmap_map.png" /></p>
<h4 id="bibliotheque-leafmap-avec-extension-kepler">Bibliothèque leafmap avec extension Kepler</h4>
<p>Cette bibliothèque offrira à l’utilisateur un nombre important d’options de personnalisation supplémentaires tout en nécessitant le moins de code possible par rapport aux autres gadgets de cartographie présentés ci-dessus. Commencez par coller  <code>pip install keplergl</code> ce qui vous permet d’installer l’extension du gadget leafmap dans l’environnement Python. Importez la bibliothèque et l’extension leafmap ainsi que la bibliothèque GeoPandas.
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kn">import</span> <span class="nn">leafmap.kepler</span> <span class="k">as</span> <span class="nn">leafmap</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
</code></pre></div></p>
<p>Configurez et importez des données sur la carte interactive.
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">toronto_map3</span> <span class="o">=</span> <span class="n">leafmap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mf">43.69</span><span class="p">,</span> <span class="o">-</span><span class="mf">79.35</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="n">gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;item1_JSON/item1_buffer_JSON.geojson&quot;</span><span class="p">)</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="n">toronto_map</span><span class="o">.</span><span class="n">add_gdf</span><span class="p">(</span><span class="n">gdf</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="s1">&#39;Police Buffer&#39;</span><span class="p">)</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="n">toronto_map</span>
</code></pre></div>
<img alt="leafmap keplergl extension" src="../imagesFR/leafmap_keplergl_map.png" /></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © 2023 Statistics Canada; DAS-GAE Early Adopter's Guide; V.1.0.1
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["tabs"], "search": "../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.6df46069.min.js"></script>
      
    
  </body>
</html>