{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to the DAS-GAE Guide","text":"<p> The DAS Geospatial Analytics Environment, offers a collaborative cross-workspace environment that gives data analysts and scientists access to trusted spatial data,  tools and services for geospatial processing, analysis and visualization.  <p> credit: ESRI inc.</p> </p> <p>DAS offers the power to perform analytics through Geomatics and location-based tools. </p> <p>     Using these secure, cloud-based services, you can:  <ul> <li>    Access Azure Windows desktop for powerful and scalable Geospatial processing and analysis environment.         <li>    Perform basic and advanced analysis, modelling and create workflows using ArcGIS Pro, QGIS or ESRI Insights.         <li>    Use Azure Storage Explorer to access geospatial data from your Azure Virtual Desktop.         <li>    Gain further location based insights with the integration of trusted Statistics Canada statistics and geospatial data.         <li>    Use ESRI Enterprise Collaborative geospatial analytics and visualization platform to: <ul> <li> Create interactive geospatial visuals, stories, and dashboards.              <li> Share geospatial datasets, models, analysis and web mapping applications.              <li> Allow for cross-platform and cross-project collaboration.               <p></p> Register your Project <p>Want to be part of the DAS Early Adopter Community?</p> <p> Register Your Project Here.</p> <p>If you have already been given access to the platform, see Logging In for more information.</p>"},{"location":"aaw/","title":"What is AAW","text":"<p>The Advanced Analytics Workspace (AAW) provides emerging state-of-the-art open source analytics and artificial intelligence tools, and compute capacity for modern data science workloads.  </p>"},{"location":"aaw/#getting-started-in-aaw","title":"Getting Started in AAW","text":"<p>Using Jupyter Notebooks in AAW allows users to connect to the ArcGIS Enterprise Portal using various python APIs. See Getting Started in AAW and the use of Jupyter Notebooks within the space.  </p>"},{"location":"aaw/#connecting-to-arcgis-enterprise-portal-using-arcgis-api","title":"Connecting to ArcGIS Enterprise Portal using ArcGIS API","text":""},{"location":"aaw/#logging-into-the-portal","title":"Logging into the Portal","text":"<p>Once the Jupyter Notebook is set up in the AAW environment, follow the code example below to get familiar with basic commands to access content on the ArcGIS Enterprise Portal.    Begin by pasting <code>conda install -c esri arcgis</code> into the Notebook and click run. This will allow you to easily install libraries into your Python environment.  Import the necessary libraries that you will need in the Notebook. <pre><code>from arcgis.gis import GIS\nfrom arcgis.gis import Item\nfrom IPython.display import display\n</code></pre> Your project group will be provided with a Client ID upon onboarding which will be used to connect to the ArcGIS Enterprise Portal. Paste the Client ID inbetween the quoatations <code>client_id=' '</code>.  <pre><code>gis = GIS(\"https://geoanalyticsdev.cloud.statcan.ca/portal\", client_id=' ')\nprint(\"Successfully logged in as: \" + gis.properties.user.username)\n</code></pre> The output will redirect you to a web page where you can login to the Portal using the StatCan Azure Login option. After successful login, you will recive a code to sign in using SAML. Paste this code into the output. </p> <p></p>"},{"location":"aaw/#display-user-information","title":"Display user information","text":"<p>Using the 'me' function, we can display various information about the user logged in.\\ <pre><code>me = gis.users.me\nusername = me.username\ndescription = me.description\ndisplay(me)\n</code></pre></p>"},{"location":"aaw/#search-for-content","title":"Search for Content","text":"<p>Search for the content you have hosted on the DAaaS Geo Portal. Using the 'me' function we can search for all of the hosted content on the account. There are multiple ways to search for content. Two different methods are outlined below.</p>"},{"location":"aaw/#search-all-of-your-hosted-itmes-in-the-daaas-geo-portal","title":"Search all of your hosted itmes in the DAaaS Geo Portal.","text":"<pre><code>my_content = me.items()\nmy_content\n</code></pre>"},{"location":"aaw/#search-for-specific-content-you-own-in-the-daaas-geo-portal","title":"Search for specific content you own in the DAaaS Geo Portal.","text":"<p>This is similar to the example above, however if you know the title of they layer you want to use, you can save it as a function. <pre><code>my_items = me.items()\nfor items in my_items:\nprint(items.title, \" | \", items.type)\nif items.title == \"Flood in Sorel-Tracy\":\nflood_item = items\nelse:\ncontinue\nprint(flood_item)\n</code></pre></p>"},{"location":"aaw/#search-all-content-you-have-access-to-not-just-your-own","title":"Search all content you have access to, not just your own.","text":"<pre><code>flood_item = gis.content.search(\"tags: flood\", item_type =\"Feature Service\")\nflood_item\n</code></pre>"},{"location":"aaw/#get-content-to-use-in-the-jupyter-notebook","title":"Get Content to Use in the Jupyter Notebook","text":"<p>We need to get the item from the DAaaS Geo Portal in order to use it in the Jupyter Notebook. This is done by providing the unique identification number of the item you want to use. Three examples are outlined below, all accessing the identical layer. <pre><code>item1 = gis.content.get(my_content[5].id) #from searching your content above\ndisplay(item1)\nitem2 = gis.content.get(flood_item.id) #from example above -searching for specific content\ndisplay(item2)\nitem3 = gis.content.get('edebfe03764b497f90cda5f0bfe727e2') #the actual content id number\ndisplay(item3)\n</code></pre></p>"},{"location":"aaw/#perform-analysis","title":"Perform Analysis","text":"<p>Once the layers are brought into the Jupyter notebook, we are able to perform similar types of analyis you would expect to find in a GIS software such as ArcGIS. There are many modules containing many sub-modules of which can perform multiple types of analyses. </p> <p>Using the arcgis.features module, import the use_proximity submodule <code>from arcgis.features import use_proximity</code>. This submodule allows us to '.create_buffers' - areas of equal distance from features. Here, we specify the layer we want to use, distance, units, and output name (you may also specify other characteristics such as field, ring type, end type, and others). By specifying an output name, after running the buffer command, a new layer will be automatically uploaded into the DAaaS GEO Portal containing the new feature you just created. </p> <pre><code>buffer_lyr = use_proximity.create_buffers(item1, distances=[1], \nunits = \"Kilometers\", \noutput_name='item1_buffer')\ndisplay(item1_buffer)\n</code></pre>"},{"location":"aaw/#update-items","title":"Update Items","text":"<p>By getting the item as we did similar to the example above, we can use the '.update' function to update exisiting item within the DAaaS GEO Portal. We can update item properties, data, thumbnails, and metadata. <pre><code>item1_buffer = gis.content.get('c60c7e57bdb846dnbd7c8226c80414d2')\nitem1_buffer.update(item_properties={'title': 'Enter Title'\n'tags': 'tag1, tag2, tag3, tag4',\n'description': 'Enter description of item'}\n</code></pre></p>"},{"location":"aaw/#visualize-your-data-on-an-interactive-map","title":"Visualize Your Data on an Interactive Map","text":""},{"location":"aaw/#ipyleaflet-library","title":"ipyleaflet Library","text":"<p>In this example we will use the library 'ipyleaflet' to create an interactive map. This map will be centered around Tornoto, ON. The data being used will be outlined below. Begin by pasting <code>conda install -c conda-forge ipyleaflet</code> allowing you to install ipyleaflet libraries in the Python environment.  Import the necessary libraries. <pre><code>import ipyleaflet \nfrom ipyleaflet import *\nimport json\nimport os\n</code></pre> Now that we have imported the ipyleaflet module, we can create a simple map by specifying the latitude and longitude of the location we want, zoom level, and basemap (more basemaps). Extra controls have been added such as layers and scale. <pre><code>toronto_map = Map(center=[43.69, -79.35], zoom=11, basemap=basemaps.Esri.WorldStreetMap)\ntoronto_map.add_control(LayersControl(position='topright'))\ntoronto_map.add_control(ScaleControl(position='bottomleft'))\ntoronto_map\n</code></pre> Getting the Data from the Portal </p> <p>It is important to note that this mapping widget does not interact with the DAaaS Geospatial Portal directly. We will have to export our layers that we created into something the ipyleaflet widget will understand. To do this we will export into a GeoJSON data type. </p> <p>First, we have to export the item as 'GeoJson' then download the item from the portal and specify a new folder we want to add the item to. <pre><code>item_export = item1_buffer.export('item1_buffer_JSON', export_format='GeoJson', tags='tag1, tag2, tag3')\nitem_download = item_export.download(\"item1_JSON\")\n</code></pre> Next, add the layer to the ipyleaflet interactive map. <pre><code>with open('item1_JSON/item1_buffer_JSON.geojson') as f:\ndata1 = json.load(f)\nitem1_buffer_lyr = GeoJSON(\ndata=data,\nstyle ={\n'opacity': 1,\n'color': '#0000FF',   # Hex Code\n'fillColor': 'red',   # Text\n'fillOpacity': 0.2,\n'weight': 1},\nhover_style={\n'color': 'white',\n'fillOpacity': 0.5\n}\n)\ntoronto_map.add_layer(item1_buffer_lyr)\n</code></pre> By clicking run on the code, the layer is automatically updated on the interactive map above and there is no need to create a seprate map. </p>"},{"location":"aaw/#leafmap-library","title":"leafmap Library","text":"<p>The leafmap library is similar to the ipyleaflet library as seen above in a way that it lets you visualize data on an interactive map. It also comes with a suite of tools that allow you to change basemaps, upload data, perform analysis, and many other functions. Begin by pasting <code>conda install leafmap -c conda-forge</code> allowing you to install leafmap libraries in the Python environment. Import the leafmap library. <pre><code>import leafmap\n</code></pre> Set up an initial map. <pre><code>toronto_map2 = leafmap.Map(center=[43.69, -79.35], zoom=11)\ntoronto_map2\n</code></pre> Again, we will need to use GeoJSON data. We are not performing any analysis here as it was already performed. We are simply calling on the GeoJSON data by specifying its path in the Jupyter Notebook. We also have a function that will assign each polygon with a random color (in our case, either red or blue). <pre><code>data2 = 'item1_JSON/item1_buffer_JSON.geojson'\nhover_style={\n'color': 'white',\n'fillColor': 'red',\n'fillOpacity': 0.5\n}\nimport random\ndef random_color(feature):\nreturn {\n'color': 'black',\n'fillColor': random.choice(['red', 'blue']),\n}\ntoronto_map2.add_geojson(data2, layer_name=data2_name, style_callback=random_color, hover_style=hover_style)\n</code></pre> </p>"},{"location":"aaw/#leafmap-libarary-with-kepler-extension","title":"leafmap Libarary with Kepler Extension","text":"<p>This will provide the user with many more customization options while needing the least amount of code compared the other mapping widgets demonstrated above. Begin by pasting <code>pip install keplergl</code> allowing you to install the extension to the leafmap widget in the Python environment. Import the leafmap library and extension along with the geopandas library. <pre><code>import leafmap.kepler as leafmap\nimport geopandas as gpd\n</code></pre></p> <p>Set up and import data to the interactive map. <pre><code>toronto_map3 = leafmap.Map(center=[43.69, -79.35], zoom=10)\ngdf = gpd.read_file(\"item1_JSON/item1_buffer_JSON.geojson\")\ntoronto_map.add_gdf(gdf, layer_name='Police Buffer')\ntoronto_map\n</code></pre> </p>"},{"location":"cae/","title":"What is CAE","text":"<p>The Collaborative analytics Environment (CAE) provides cloud services for data ingestion, transformation and preparation, as well as data exploration and computation. It includes tools for collaborative analytics, machine learning environments, and data visualization capabilities. </p>"},{"location":"cae/#connecting-to-arcgis-enterprise-portal-using-arcgis-api","title":"Connecting to ArcGIS Enterprise Portal using ArcGIS API","text":"Prerequisite <p>Client Id from the DAaaS ArcGIS Enterprise Portal for OAuth2.0 authentication (if accessing a Enterprise Feature Service)</p> <p>Your project group will be provided with a Client ID upon onboarding which will be used to connect to the ArcGIS Enterprise Portal. Paste the Client ID in-between the quotations <code>client_id=' '</code>.  <pre><code>gis = GIS(\"https://geoanalyticsdev.cloud.statcan.ca/portal\", client_id=' ')\nprint(\"Successfully logged in as: \" + gis.properties.user.username)\n</code></pre> The output will redirect you to a web page where you can login to the Portal using the StatCan Azure Login option. After successful login, you will receive a code to sign in using SAML. Paste this code into the output. </p> <p></p>"},{"location":"cae/#databricks-url","title":"Databricks URL","text":"<ol> <li> <p>Navigate to https://canadacentral.azuredatabricks.net/, sign in with your cloud account credentials, and select the Databricks workspace that was created for you.  </p> <p></p> </li> </ol>"},{"location":"cae/#azure-portal","title":"Azure Portal","text":"<ol> <li> <p>In the Azure Portal Search box, search for Databricks.  </p> <p> </p> </li> <li> <p>You should then see a list of the Databricks workspaces you were given permission to access.  </p> <p></p> </li> </ol>"},{"location":"cae/#getting-started","title":"Getting Started","text":"<p>Once inside Databricks you can create a new notebook or open an existing notebook. See First Access to Databricks for more information.</p>"},{"location":"cae/#creating-a-cluster","title":"Creating a Cluster","text":"<p>Since you do not have permission to create a cluster, please send a slack message if a cluster has not been created for you or if you require changes to your cluster.</p> <p>Note: You must have a cluster running before you can run code inside your notebook. See below for information on how to start a cluster.</p>"},{"location":"cae/#creating-a-notebook","title":"Creating a Notebook","text":"<ul> <li> <p>One way to create a notebook is to click on the New Notebook link from the main Databricks page. You can then provide a name for your notebook and select the default notebook language.</p> </li> <li> <p>From the available list of clusters, select the cluster to which you wish to attach your notebook.</p> <p></p> </li> <li> <p>To start or change a cluster from within a notebook, open the notebook and click on the cluster drop down found at the top right of the notebook. You can then start the cluster or detach it and attach a different one.  </p> </li> </ul>"},{"location":"cae/#ingesting-data-into-databricks","title":"Ingesting Data into Databricks","text":"<p>Data can be mounted or uploaded to the Databricks File System (DBFS), which is storage specific to the Databricks workspace. You can read data from a data source or even upload a data file (e.g. CSV) directly to the DBFS.</p> <p>Note: The internal data lake container for your environment has already been mounted for you and you can work with the container directly. Please send a Slack message if you don't know the name of your mounted data lake container.</p>"},{"location":"cae/#adding-data-to-databricks","title":"Adding Data to Databricks","text":""},{"location":"cae/#reading-mounted-files","title":"Reading Mounted Files","text":"<p>Example: <pre><code>%python\ntestData = spark.read.format('csv').options(header='true', inferSchema='true').load('/mnt/mad-du/incoming/age-single-years-2018-census-csv.csv')\n\ndisplay(testData)\n</code></pre></p>"},{"location":"cae/#changing-notebook-default-language","title":"Changing Notebook Default Language","text":""},{"location":"cae/#mixing-notebook-languages","title":"Mixing Notebook Languages","text":"<p>You can override the default language by specifying the language magic command % at the beginning of a cell. The supported magic commands are: %python, %r, %scala, and %sql.</p> <p>Note: When you invoke a language magic command, the command is dispatched to the REPL in the execution context for the notebook. Variables defined in one language (and hence in the REPL for that language) are not available in the REPL of another language. REPLs can share state only through external resources such as files in DBFS or objects in object storage.    </p> <p>Notebooks also support a few auxiliary magic commands: %sh: Allows you to run shell code in your notebook. To fail the cell if the shell command has a non-zero exit status, add the -e option. This command runs only on the Apache Spark driver, and not the workers. To run a shell command on all nodes, use an init script. %fs: Allows you to use dbutils filesystem commands. %md: Allows you to include various types of documentation, including text, images, and mathematical formulas and equations.  </p>"},{"location":"cae/#starting-a-databricks-cluster","title":"Starting a Databricks Cluster","text":"<ol> <li> <p>Click on the cluster drop-down list.</p> </li> <li> <p>Select a cluster from the list.</p> </li> <li> <p>Click on the Start Cluster link.  </p> <p> </p> </li> </ol>"},{"location":"cae/#installing-libraries-in-notebooks","title":"Installing Libraries in Notebooks","text":"<p>Info</p> <p>The DAaaS team is working to streamline this processes, exciting changes are coming soon!</p> <p>Use the following commands to install a library in a notebook session:</p> <p>Python:  <pre><code>dbutils.library.installPyPI(\"pypipackage\", version=\"version\", repo=\"repo\", extras=\"extras\")\ndbutils.library.restartPython() # Removes Python state, but some libraries might not work without calling this function\n</code></pre> R Code: <pre><code>install.packages(\"library\") </code></pre></p>"},{"location":"cae/#learn-more-caes-guidebook","title":"Learn More; CAE's Guidebook","text":""},{"location":"cae/#microsoft-documentation","title":"Microsoft Documentation","text":"<ul> <li>First Access to Databricks </li> <li>For more information on Databricks </li> <li>Databricks Connect</li> <li>Install Libraries in Current Notebook Session </li> <li>Library Management for Admins </li> </ul>"},{"location":"conda/","title":"Python (conda)","text":""},{"location":"conda/#virtual-environments","title":"Virtual Environments","text":""},{"location":"conda/#create-a-new-environment","title":"Create a new environment","text":"Best Practice: Working with Conda Virtual Environments <p>Using virtual environments with Conda can help you create consistent, reproducible, and isolated environments for your projects, which can save time and prevent issues caused by conflicting dependencies or system-level changes.</p> <p>For example, ArcGIS products function best with python 3.7.  By creating a separate ArcGIS environment you can install 3.7 without causing conflicts with the modern python 3.10 release.</p> <p><pre><code>conda create --name &lt;env_name&gt; &lt;package&gt;\n</code></pre> example: <pre><code>conda create --n arc python=3.7\n</code></pre></p>"},{"location":"conda/#activate-your-environment","title":"Activate your environment:","text":"<pre><code>conda activate &lt;env_name&gt;\n</code></pre>"},{"location":"conda/#installing-packages","title":"Installing package(s):","text":"Common Geo-Specific Packages available <p>This list is not exhaustive, but here are some of the common packages:</p> <pre><code>- GeoPandas\n- Shapely\n- Fiona\n- GDAL/OGR\n- PyProj\n- Cartopy\n- Rasterio\n- Geoplot\n- Basemap\n- Bokeh\n- PySAL\n- Spatial Pandas\n- NetworkX\n- PyShp\n- TileStache\n- GdalUtils\n- Scipy\n- PyTopo\n- Geopy\n- Plotly\n</code></pre>"},{"location":"conda/#conda","title":"Conda","text":"<p>DAaaS utilizes Artifactory for package and library management: <pre><code>https://jfrog.aaw.cloud.statcan.ca/artifactory/conda-forge-remote\n</code></pre></p> <p>To use:</p> <p>The miniforge and conda artifactory have already been added to your system path. You should not need to specify the channel. If this fails, we have included examples on direct connections after the simple examples:</p> <pre><code>conda install [package]\n</code></pre> <p>For specific versions <pre><code>conda install geopandas\nconda install matplotlib=3.7.0\n</code></pre></p> <p>Connecting directly to the artifactory channel:</p> <p><pre><code>conda install -c https://jfrog.aaw.cloud.statcan.ca/artifactory/conda-forge-remote/ [package]\nconda install -c https://jfrog.aaw.cloud.statcan.ca/artifactory/conda-forge-remote/ [package=X.X...]\n</code></pre> </p>"},{"location":"conda/#pip","title":"PIP","text":"<p>What about PIP?</p> <p>For PIP you must specify the repositoy:</p> <pre><code>https://jfrog.aaw.cloud.statcan.ca/artifactory/pypi-remote/.pypi/\n</code></pre> <pre><code>pip install [package] -i https://jfrog.aaw.cloud.statcan.ca/artifactory/pypi-remote/.pypi/\n</code></pre>"},{"location":"conda/#confirm-your-package-installation","title":"Confirm your package installation","text":"<p><pre><code>conda list\n</code></pre> <pre><code>pip list\n</code></pre></p>"},{"location":"conda/#some-basic-examples","title":"Some Basic Examples:","text":""},{"location":"conda/#convert-a-wfs-into-pandas-dataframe","title":"Convert a WFS into pandas DataFrame:","text":"<pre><code>import geopandas as gpd\n# Set WFS URL and layer name\nwfs_url = 'https://mywfs.com/wfs'\nlayer_name = 'my_layer'\n# Read WFS into a geopandas dataframe\ngdf = gpd.read_file(wfs_url, layer=layer_name)\n# Convert geopandas dataframe to pandas dataframe\ndf = gdf.drop(columns='geometry')\n# Preview the dataframe\nprint(df.head())\n</code></pre>"},{"location":"conda/#a-shapefile-to-geodataframe-spatial-dataframe","title":"A Shapefile to GeoDataFrame (Spatial DataFrame)","text":"<pre><code>import geopandas as gpd\n# Define the path to the shapefile\nshapefile_path = 'path/to/your/shapefile.shp'\n# Use geopandas to read the shapefile into a GeoDataFrame\ngdf = gpd.read_file(shapefile_path)\n# Print the GeoDataFrame\nprint(gdf)\n</code></pre>"},{"location":"conda/#export-a-geodataframe-to-arcgis-enterprise","title":"Export a GeoDataFrame to ArcGIS Enterprise","text":"<pre><code>from arcgis.gis import GIS\nimport geopandas as gpd\n# Define the URL of your ArcGIS Enterprise portal\nportal_url = 'https://geoanalytics.cloud.statcan.ca/portal/'\n# Create a connection to your portal\ngis = GIS(portal_url, client_id='')\n# Define the name of the feature layer to be created\nlayer_name = 'your_layer_name'\n# Publish the GeoDataFrame to your portal as a feature layer\nfeature_layer = gis.content.import_data(gdf, title=layer_name)\n# Print the URL of the feature layer\nprint(feature_layer.url)\n</code></pre>"},{"location":"conda/#join-csv-to-shpas-sdf-then-export-to-arcgis-enterprise","title":"Join CSV to SHP(as sdf) then Export to ArcGIS Enterprise","text":"<p><pre><code>import pandas as pd\nfrom arcgis.gis import GIS\nfrom arcgis.features import SpatialDataFrame\n# Load the CSV file into a Pandas dataframe\ncsv_df = pd.read_csv('path/to/csv_file.csv')\n# Load the spatial data into a SpatialDataFrame using ArcGIS API for Python\nsdf = SpatialDataFrame.from_featureclass('path/to/spatial_data.shp')\n# Join the CSV dataframe to the spatial dataframe based on a common field\njoined_sdf = sdf.merge(csv_df, on='common_field')\n# Export the joined spatial dataframe to ArcGIS Enterprise using the ArcGIS API for Python\ngis = GIS('https://geoanalytics.cloud.statcan.ca/portal/', client_id='')\njoined_fc = joined_sdf.spatial.to_featureclass(location='path/to/output.gdb', overwrite=True)\njoined_item = gis.content.add({'type': 'Feature Service', 'title': 'Joined Data', 'tags': 'Data'}, data=joined_fc)\njoined_item.publish()\n</code></pre> This code first loads a CSV file into a Pandas dataframe using the pd.read_csv() function. It then loads a spatial dataset into a SpatialDataFrame using the SpatialDataFrame.from_featureclass() method of the ArcGIS API for Python. The two dataframes are then joined based on a common field using the merge() method of the SpatialDataFrame.</p> <p>Finally, the joined SpatialDataFrame is exported to a feature class using the spatial.to_featureclass() method of the SpatialDataFrame, and then published to ArcGIS Enterprise using the gis.content.add() and publish() methods of the ArcGIS API for Python. Note that you will need to replace the example paths and server URL with the actual paths and URL for your data and ArcGIS Enterprise instance.</p>"},{"location":"conda/#geocode-a-dataframe-using-osm-api","title":"GeoCode a dataframe using OSM API","text":"<p><pre><code>import requests\nimport pandas as pd\ndef geocode_address(address):\n\"\"\"\n    Geocode a single address using the OpenStreetMap API\n    \"\"\"\nurl = \"https://nominatim.openstreetmap.org/search\"\nparams = {\n\"q\": address,\n\"format\": \"json\"\n}\nresponse = requests.get(url, params=params)\nif response.ok:\nresults = response.json()\nif len(results) &gt; 0:\nreturn results[0]\nreturn None\ndef geocode_dataframe(df, address_column):\n\"\"\"\n    Geocode a Pandas dataframe using the OpenStreetMap API\n    \"\"\"\n# Create a new dataframe to store the geocoding results\ngeocoded_df = pd.DataFrame(columns=[\"latitude\", \"longitude\"])\n# Loop through each row in the original dataframe\nfor index, row in df.iterrows():\n# Get the address from the specified column\naddress = row[address_column]\n# Geocode the address using the OpenStreetMap API\nresult = geocode_address(address)\nif result:\n# Add the latitude and longitude to the new dataframe\ngeocoded_df.loc[index] = [result[\"lat\"], result[\"lon\"]]\nelse:\n# If geocoding failed, add NaN values to the new dataframe\ngeocoded_df.loc[index] = [float(\"NaN\"), float(\"NaN\")]\n# Add the new columns to the original dataframe\ndf[\"latitude\"] = geocoded_df[\"latitude\"]\ndf[\"longitude\"] = geocoded_df[\"longitude\"]\nreturn df\n</code></pre> To use this code, simply call the geocode_dataframe function with your Pandas dataframe and the name of the column that contains the address data. This will add two new columns to the dataframe, \"latitude\" and \"longitude\", which contain the geocoded coordinates for each address. Note that this code uses the requests library to make HTTP requests to the OpenStreetMap API, so you'll need to make sure that it's installed in your environment before running the code. At this time, the OSM API is blocked by the firewall</p>"},{"location":"conda/#raster-analysis-with-gdal","title":"Raster Analysis with GDAL","text":"<p><pre><code>from osgeo import gdal\nimport numpy as np\n# Open the raster file\nraster_ds = gdal.Open('path/to/raster.tif')\n# Read the raster band into a NumPy array\nraster_band = raster_ds.GetRasterBand(1)\nraster_array = raster_band.ReadAsArray()\n# Perform some analysis on the raster data\n# For example, calculate the mean pixel value\nmean_value = np.mean(raster_array)\n# Print the result\nprint('Mean pixel value: {}'.format(mean_value))\n</code></pre> This code opens a raster file using the gdal.Open() method and reads the first band of the raster into a NumPy array using the ReadAsArray() method of the gdal.Band object. It then performs some analysis on the raster data, in this case calculating the mean pixel value using the np.mean() function from NumPy. Finally, it prints the result to the console.</p> <p>You can modify this code to perform other types of analysis on the raster data, such as calculating the minimum, maximum, or standard deviation of the pixel values, or performing calculations between multiple bands. GDAL provides a wide range of functions and tools for working with raster data, so the possibilities are nearly endless.</p>"},{"location":"conda/#conda-cheat-sheet","title":"Conda Cheat Sheet","text":"<p>Link to full Conda cheat sheet</p> <p>Learn more about about Artifactory</p> <p>Learn more about Conda</p>"},{"location":"faq/","title":"Contact DAS GEO","text":""},{"location":"faq/#contact-das-customer-success-team","title":"Contact DAS Customer Success Team","text":"<p>For business and onboarding inquiries, or to receive technical support:</p> <p>statcan.dassupport-soutiendelads.statcan@statcan.gc.ca</p> Internal/Statistics Canada Employees <p>How to submit a technical request or report a problem  For technical support please submit a ticket via Jira:</p> <ol> <li>Open Statistics Canada Jira software: DAS Geospatial Platform (DASGAE)</li> <li>From the Menu Bar, select the button Create:     </li> <li>In the Jira Create Issue Window, Select the Issue Type = Client Support:     </li> <li>In the Jira Create Issue window, enter the information related to your request:<ul> <li>Summary (mandatory): Type a short summary definition of you request</li> <li>Assignee (mandatory): Select \u201cautomatic\u201d</li> <li>Component (mandatory): Select \u201cCustomer Support \u2013 Geo Platform User Help Resources\u201d:     </li> <li>Description (mandatory): Type a detailed description of your request.</li> <li>Attachment (optional): Supporting documentation relating to your request (ex: screen caps of errors)</li> </ul> </li> </ol> <p>DAS Support will complete the rest of information in the jira ticket if necessary.  You will receive updates about the ticket via email. </p>"},{"location":"faq/#more-das-contacts","title":"More DAS Contacts","text":"<ul> <li> <p>Advanced Analytics Workspace (AAW) Slack Channel</p> </li> <li> <p>Collaborative Analytics Environment (CAE) Slack Channel</p> </li> <li> <p>DAS Customer Success Unit -User Application (internal STC link)</p> </li> <li> <p>GeoHelp (ArcGIS Pro license only)</p> </li> </ul>"},{"location":"insights/","title":"Insights, Desktop and Portal","text":"This Feature is still under exploration <p>As GAE continues to explore and learn about this product, we are excited about the possibilities it offers to improve our ability to derive insights from data.  </p> <p>With more experience using Insights, we will be able to take advantage of its advanced capabilities and features to better support our work and deliver more value to Canadians.   Learn with us! Share your knowledge!</p>"},{"location":"insights/#information","title":"Information","text":"<p>ArcGIS Insights is a powerful data analysis and visualization tool developed by Esri. ArcGIS Insights is available in two different versions: ArcGIS Insights Desktop and ArcGIS Insights Portal,and, there are some key differences between the two.</p> <p>ArcGIS Insights Desktop is a standalone application. It provides users with a powerful suite of data analysis and visualization tools that can be used to explore data, create maps and charts, and perform complex spatial analysis. Insights Desktop is designed for individual users or small teams who need to analyze data and create reports locally, without relying on a network connection.</p> <p>On the other hand, ArcGIS Insights Portal is a web-based version of the software that is hosted in the cloud. Insights Portal is designed for larger organizations that need to share data and analysis tools across multiple teams or departments. Insights Portal provides users with access to the same powerful data analysis and visualization tools as Insights Desktop, but with the added benefit of a centralized data repository and collaboration features that allow teams to work together on data analysis projects.</p> <p>In summary, both ArcGIS Insights Desktop and ArcGIS Insights Portal are powerful data analysis and visualization tools that offer similar functionality. However, Insights Desktop is designed for individual users or small teams who need to work locally, while Insights Portal is designed for larger organizations that need to share data and analysis tools across multiple teams or departments.</p>"},{"location":"insights/#analysis-examples","title":"Analysis Examples","text":"<p>Here are some examples of data analysis tasks you can perform in ArcGIS Insights:</p> <ul> <li> <p>Spatial Analysis: You can use ArcGIS Insights to perform a wide range of spatial analysis tasks, including spatial clustering, proximity analysis, and more. For example, you can use the \"Find Nearest\" function to find the nearest locations to a given location, or use the \"Spatial Aggregation\" function to aggregate your data by location.</p> </li> <li> <p>Time Series Analysis: You can use ArcGIS Insights to analyze time series data, including trends, seasonality, and more. For example, you can use the \"Time Series Visualization\" card to visualize your time series data, or use the \"Time Series Forecasting\" function to forecast future trends.</p> </li> <li> <p>Statistical Analysis: You can use ArcGIS Insights to perform a wide range of statistical analysis tasks, including hypothesis testing, regression analysis, and more. For example, you can use the \"Correlation Matrix\" card to visualize the correlations between your variables, or use the \"Linear Regression\" function to perform a regression analysis.</p> </li> <li> <p>Data Mining: You can use ArcGIS Insights to perform data mining tasks, including association analysis, clustering, and more. For example, you can use the \"Association Rules\" function to find patterns in your data, or use the \"K-Means Clustering\" function to cluster your data.</p> </li> </ul> <p>Overall, ArcGIS Insights is a powerful data analysis tool that can be used to analyze and visualize a wide range of spatial and non-spatial data. </p>"},{"location":"insights/#instructions","title":"Instructions","text":"<p>Here are some instructions on how to use ArcGIS Insights for data analysis:</p> <ol> <li> <p>Create a New Workbook: To start using ArcGIS Insights, you need to create a new workbook. Click on the \"New Workbook\" button on the Insights homepage, or click on \"File\" &gt; \"New Workbook\" in the top menu. </p> </li> <li> <p>Connect to Data: The next step is to connect to your data. Insights supports a wide range of data sources, including spreadsheets, databases, and ArcGIS Online/Enterprise. Click on \"Connect to Data\" to access your data sources. </p> </li> <li> <p>Create a New Page: Once you have connected to your data, you can start creating pages to analyze and visualize your data. Click on \"New Page\" to create a new page. </p> </li> <li> <p>Drag and Drop Data: To start analyzing your data, drag and drop your data onto the page. Insights will automatically create cards to visualize your data. You can choose from a variety of card types, including maps, charts, tables, and more. </p> </li> <li> <p>Filter and Summarize Data: You can filter and summarize your data by adding filters and summaries to your cards. For example, you can filter your data by date, location, or other attributes, and summarize your data by counting, averaging, or other statistical measures. </p> <p>You can also filter the original dataset: </p> <p>A card filter only affects the card and creates a filtered dataset while the original, unfiltered dataset is still available for use in your analysis. When you apply a filter to a dataset, no new dataset is created. All cards that use the filtered dataset change to include the filter.</p> </li> <li> <p>Create Relationships: Insights allows you to create relationships between your data sources, which can help you analyze and visualize your data more effectively. Click on \"Create Relationship\" to connect your data sources.  </p> </li> <li> <p>Add Insights Analysis: Insights has a wide range of functions that you can use to analyze and manipulate your data. For example, you can use the \"Find Similar Locations\" function to find locations that are similar to a given location, or the \"Add Location Data\" function to add location data to your non-spatial data.  </p> </li> <li> <p>Share Your Results: Once you have analyzed and visualized your data, you can share your results with others. Click on \"Share\" to share your workbook with other Insights users, or export your results to a variety of formats, including PDF, CSV, and more. </p> </li> </ol>"},{"location":"insights/#tips-and-best-practices","title":"Tips and Best Practices","text":"<ul> <li> <p>Save often: Insights does not have an auto-save function.  It is important to save your work frequently, especially after a new dataset or card is created.</p> </li> <li> <p>Plan and organize your data: Before you start analyzing your data in ArcGIS Insights, it's important to plan and organize your data properly. Make sure your data is clean, organized, and in a format that can be easily imported into Insights.</p> </li> <li> <p>Use appropriate visualization techniques: ArcGIS Insights offers a wide range of visualization tools, including charts, graphs, and maps. Choose the right visualization technique for your data, and use color and labeling to make your visuals more effective.</p> </li> <li> <p>Choose the right analysis tools: ArcGIS Insights offers a variety of analysis tools, including spatial analysis, statistical analysis, and predictive modeling. Choose the right tool for your analysis needs, and make sure you understand how to use it effectively.</p> </li> <li> <p>Collaborate with others: ArcGIS Insights makes it easy to collaborate with others on data analysis projects. Use the sharing and collaboration features to work with team members, share data and insights, and get feedback.</p> </li> <li> <p>Document your work: As you work on your analysis projects in ArcGIS Insights, make sure to document your work. Keep track of your data sources, analysis techniques, and findings, and create reports and presentations to share your insights with others.</p> </li> <li> <p>Stay up-to-date: ArcGIS Insights is a powerful tool that is constantly evolving. Make sure to stay up-to-date with new features and updates, and take advantage of online resources, training, and user communities to get the most out of the software.</p> </li> </ul>"},{"location":"insights/#learn-more-about-insights-esri-documentation","title":"Learn More about Insights; ESRI Documentation","text":""},{"location":"intro/","title":"A Simple Introduction to Geospatial Analysis","text":"<p>Geospatial analysis is concerned with the quantitative location of important features, known as phenomena.</p> <p>Geospatial data is data about phenomena that have a location on the surface of the earth. The location may be static (ex- the location of a road, a disaster event, citizens living in poverty), or dynamic (ex- a moving vehicle or pedestrian, the spread of COVID) </p> <p>A GIS (Geospatial Information System) helps us analyze spatial relationships and patterns amongst these phenomena. It is particularly useful for visualizing spatial data and reporting results of analysis.</p> <p>GIS' are composed of both hardware and software components. Due to the large volumes of spatial data and the need to display values on the fly, GIS hardware often have large storage capacities, fast computing speed, and powerful memory. DAS-GAE has been designed meet these users needs.</p>"},{"location":"intro/#about-spatial-data","title":"About Spatial Data","text":"<p>Spatial data refers to information that has a location or geographic component associated with it. It is data that has a spatial reference, such as latitude and longitude or a street address, that allows it to be displayed on a map and analyzed using geographic information system (GIS) software. Spatial data can be broadly classified into two types: vector data and raster data.</p> <ol> <li> <p>Vector data: Vector data represents geographic features using points, lines, and polygons. Examples of vector data include:</p> <ul> <li>Points: addresses, cities, airports, hospitals, and other discrete locations.</li> <li>Lines: roads, rivers, railroads, and other linear features.</li> <li>Polygons: countries, states, counties, parks, and other areas with well-defined boundaries.</li> </ul> </li> <li> <p>Raster data: Raster data represents geographic features as a grid of cells, where each cell has a value that represents some aspect of the feature being represented. Examples of raster data include:</p> <ul> <li>Elevation data: digital elevation models (DEMs) and digital terrain models (DTMs).</li> <li>Satellite imagery: aerial photographs, multispectral imagery, and thermal imagery.</li> <li>Climate data: temperature, precipitation, and other weather-related data.</li> </ul> </li> </ol> <p>Both vector and raster data can be used in a wide range of GIS applications, such as spatial analysis, cartography, and environmental modeling.</p> <p>A spatial database \u2014 also known as a \u201cgeodatabase\u201d \u2014 is built to capture and store the points, lines, and polygons.</p> <p>A geodatabase is a type of database used to store and manage geospatial data, including features, attributes, and relationships. It is designed to support the storage, query, and manipulation of geographic data in a way that preserves the spatial and temporal relationships between features. A geodatabase can store many different types of data, including points, lines, polygons, and raster datasets, and it can be used for a wide range of applications, including GIS analysis, map production, and data management. Geodatabases are typically created and managed using specialized software, such as Esri's ArcGIS.</p>"},{"location":"intro/#about-geospatial-analysis","title":"About Geospatial Analysis","text":"<p>Geospatial analysis methods are techniques used to analyze and visualize spatial data. Here are some common geospatial analysis methods:</p> <ol> <li> <p>Geographic Information System (GIS) analysis: GIS is a computer-based system used to capture, store, manipulate, analyze, and present geospatial data. It allows you to create, edit, and analyze maps, as well as perform spatial queries and analysis.</p> </li> <li> <p>Remote sensing: Remote sensing is the process of acquiring data about the Earth's surface from a distance, typically through the use of satellites or aircraft. This data can be used to analyze land cover, vegetation, and other environmental variables.</p> </li> <li> <p>Spatial statistics: Spatial statistics is a branch of statistics that deals with data that has a spatial component. It allows you to analyze patterns and relationships in spatial data, such as spatial autocorrelation, spatial clustering, and spatial interpolation.</p> </li> <li> <p>Spatial interpolation: Spatial interpolation is the process of estimating values at unsampled locations based on values at nearby sampled locations. It is often used in environmental modeling, such as predicting air quality or water quality at unmeasured locations.</p> </li> <li> <p>Network analysis: Network analysis is the process of analyzing the structure and function of transportation networks, such as road networks or public transportation systems. It can be used to optimize routes, estimate travel times, and identify bottlenecks and congestion.</p> </li> <li> <p>Geostatistics: Geostatistics is a subset of spatial statistics that focuses on analyzing and modeling spatial data that exhibit spatial dependence or spatial autocorrelation.</p> </li> <li> <p>Spatial data mining: Spatial data mining is the process of discovering patterns and relationships in large geospatial datasets. It often involves the use of machine learning algorithms, such as clustering, classification, and regression.</p> </li> <li> <p>Visualization: Visualization is the process of representing geospatial data visually, typically through the use of maps, graphs, and charts. </p> </li> </ol>"},{"location":"intro/#gis-vocabulary","title":"GIS Vocabulary","text":"Term Description API Application Programming Interface-a method for software developers to enable communication between different applications or systems. Base Map GIS data and/or imagery that form the background setting for a map Coordinates Values represented by the letters x, y, z [or m (measure)], that define a position within a spatial reference DCAT, geoDCAT-ap Metadata standard to make spatial datasets, dataset series, and services searchable on general data catalogs EO, Earth Observation Information about the planet Earth gathered via remote-sensing technologies and by ground-based techniques (ex- satellite or drone imagery ETL Procedure of copying data from sources into a destination system which represents the data differently from the source or in a different context than the source Generalization Method used in GIS to reduce detail in data (for privacy and/or visualizing) Geocode The process of identifying a location by one or more attributes from a layer. HNAP HNAP-Canada is a profile on Harmonized North American Profile which itself is a profile on ISO19139 (ISO 19115*) Layer Thematic data described and stored in a map library. Layers act as transparencies that can be laid atop one another for viewing or spatial analysis. OGC Open Geospatial Consortium- Open Source champion; Open Standards PostgreSQL Open-source object-relational database system; Azure Managed Shapefile vector data storage format for storing the location, shape, and attributes. It is stored in a set of 4 related files and contains one feature class. shapefiles should be avoided when possible WMS specifications that provides uniform access by Web clients to maps rendered by map servers on the Internet WFS specifications that standardizes data manipulation and map display on the Internet"},{"location":"language/","title":"Language","text":"<p>This section is in development</p> <p>More information coming soon! </p>"},{"location":"login/","title":"Logging into the DAS GEA","text":"Prerequisites <ol> <li>An authorized StatCan Cloud account (first.lastname@cloud.statcan.ca)</li> <li>A registered &amp; onboarded DAS project</li> </ol>"},{"location":"login/#accessing-your-gae-resources-in-the-cloud","title":"Accessing your GAE Resources in the cloud","text":"<ol> <li> <p>Using Chromium or Edge, open the Azure Portal </p> </li> <li> <p>You may then be prompted to either enter or pick an account:  </p> <ul> <li>Upon your first time signing in, you will receive the Microsoft Sign in prompt, as shown below. </li> <li> <p>Enter your cloud account credentials (firstname.lastname@cloud.statcan.ca), and click on Next.</p> </li> <li> <p>On subsequent sign-ins, you will receive the Microsoft Pick an account prompt, as shown below. Click on your cloud.statcan.ca account. </p> </li> </ul> </li> <li> <p>You will then be prompted to enter your cloud account password, as shown below. Once entered, click on Sign in. </p> Is your first time accessing the STC Cloud? <ul> <li> <p>use the temporary password that was emailed to you by the cloud team</p> </li> <li> <p>you will then be asked to set-up 2MFA on your phone and 5 Password Recovery questions</p> </li> <li> <p>follow the prompts as directed, it should take about 2-5 minutes</p> </li> </ul> </li> <li> <p>Lastly, you may be asked to confirm your account via your cellular device. </p> </li> <li> <p>You should now be presented with the Azure Homepage.</p> </li> </ol> <p>How to access to the CAE: Collaborative Analytics Environment Guidebook</p> <p>How to access to the AAW:  Advanced Analytics Workspace Guidebook</p>"},{"location":"pipeline/","title":"Pipeline","text":"This page is incomplete <p>More information and services coming soon!</p> <p>Warning</p> <p>It is up to the user to ensure that incoming data has been OPMIC approved. </p>"},{"location":"pipeline/#data-ingestion","title":"Data Ingestion","text":"<p>As part of the onboarding process an ingestion plan was created.</p>"},{"location":"pipeline/#data-pipelines-daaas-managed","title":"Data Pipelines - DAaaS Managed","text":""},{"location":"pipeline/#self-serve-ingestion","title":"Self-Serve Ingestion","text":""},{"location":"pipeline/#data-storage-options","title":"Data Storage Options","text":""},{"location":"pipeline/#azure-file-shares-and-blobs","title":"Azure File shares and Blobs","text":""},{"location":"pipeline/#postgresql-postgis-database","title":"PostgreSQL + PostGIS Database","text":""},{"location":"pipeline/#vm-local-disk","title":"VM Local Disk","text":""},{"location":"pipeline/#using-azure-data-explorer","title":"Using Azure Data Explorer","text":""},{"location":"pipeline/#opmic-information","title":"OPMIC Information","text":"<p>DAaaS requires that all data be 100% OPMIC approved and vetted. </p> <p>Data Governance Support (DGS) empowers and supports statistical program managers, data custodians and data stewards by</p> <ul> <li>guiding them through each step of the governance process</li> <li>coaching them on data life cycle best practices</li> <li>liaising effectively with appropriate service areas</li> <li>ensuring that legislative, transparency, privacy, ethical and corporate requirements are met.</li> </ul> <p>Learn more: ICN (internal) StatCan Link: http://www153.statcan.ca/w153_r000-eng.html</p>"},{"location":"pipeline/#best-practices","title":"Best Practices","text":""},{"location":"portal/","title":"ArcGIS Portal","text":""},{"location":"portal/#becoming-a-user","title":"Becoming a User","text":""},{"location":"portal/#cloud-account","title":"Cloud Account","text":"<ol> <li> <p>Visit DAaaS GAE Enterprise Portal to sign on to the ArcGIS Enterprise Portal</p> </li> <li> <p>Select the StatCan Azure Login button</p> <p></p> </li> <li> <p>If your password was not remembered by Azure you will be asked to enter it and verify by phone</p> <p> </p> </li> <li> <p>You will then be presented with this screen:     </p> </li> <li> <p>For security reasons, your default role will be Viewer Only. Contact the DAaaS Geo Team to have your permissions adjusted. See the Contact section for help on how to contact DAS-GAE</p> </li> </ol> <p></p>"},{"location":"portal/#user-roles","title":"User Roles","text":"<p>You will be assigned either a Project Viewer or Project Member user role depending on your needs. </p> <ul> <li> <p>Project Viewer   View items such as maps, apps, scenes, and layers that have been shared with the public, the organization, or a group to which the member belongs. Join groups owned by the organization. Drag CSV, text, or GPX files into Map Viewer Classic (formerly Map Viewer) to geocode addresses or place names. Get directions in a map viewer and apps. Members assigned the Viewer role cannot create or share content, or perform analysis.</p> </li> <li> <p>Project Member   Project Viewer privileges plus the ability to create, update and delete their own content. Users can publish hosted feature layers, hosted tile layers, hosted scene layers, and server-based layers. Share content to assigned groups. Create content such as Maps (including feature analysis tasks), Dashboards, Apps, and Story Maps.  </p> </li> </ul>"},{"location":"portal/#groups","title":"Groups","text":"<p>The groups you belong to are where you can collaborate with other users on the same project or team. In the main header, click Groups. This is where you can see the groups you have been added to.   Click on the group name to see all the shared content. </p>"},{"location":"portal/#uploadingpublishing-content-using-interface","title":"Uploading/Publishing Content using Interface","text":""},{"location":"portal/#uploading-content-pro","title":"Uploading Content - PRO","text":"<p>Shapefiles and File Geodatabases are the most common files that will be uploaded to the Portal. However a full list of supported items can be found by clicking the question mark as seen in the figure below.</p> <p>Click the Content tab and under My Content, click Add Item. Select From your computer. Select Choose File and navigate to the zipped folder of the content you want to upload. Ensure the correct file types is selected from the drop down menu and Publish this file as a hosted layer is selected. Assign the content a title and tags. Click Add Item.</p> <p>Note: Selecting Publish this file as a hosted layer will also publish the content as a hosted layer that can be used and shared between your group members. If the option is not selected, then the file itself (ex. File Geodatabase) will be uploaded and available for download by other group members but not useable by group members until it has been published as a hosted layer.  </p> <p>Similar steps can be followed to upload content via a URL to a layer or document on the web, or a URL to an application on the web.</p> <p>Content can also be uploaded directly to a Web Map using the same means as outlined above. </p> <p>Learn More: ArcGIS Portal; Add Items</p>"},{"location":"portal/#publishing-content-portal","title":"Publishing Content- PORTAL","text":"<ol> <li>Items can be published directly from your files as seen in the Uploading Content section. </li> <li>If the item file is directly uploaded to the portal such as a shapefile or geodatabase, the user can manually publish the item  </li> <li>Items can also be directly imported into a Web Map (see Web Map section for more information) and published to the portal individually. </li> </ol> <p>Learn More: ArcGIS Portal; Publishing</p>"},{"location":"portal/#creating-maps-and-apps-in-portal","title":"Creating Maps and Apps in Portal","text":""},{"location":"portal/#creating-web-maps","title":"Creating Web Maps","text":"<p>To create a Web Map, there are two options:</p> <ol> <li>Click the Map tab in the main ribbon, or</li> <li>Visit the Overview page on a specific Feature Layer and click Open in Map Viewer</li> </ol> <p>Once the Web Map is open, you can being adding in layers to the Web Map by searching through My Content, My Groups, or My Organization. </p> <p>Note: Performing analysis is only available in Map Viewer Classic. It is not available in Map Viewer but will be available in a future release. </p> <p>Learn More: Get started with Map Viewer\u2014Portal for ArcGIS | Documentation for ArcGIS Enterprise</p>"},{"location":"portal/#creating-interactive-apps","title":"Creating Interactive Apps","text":"<p>To create an app, navigate to the Content tab in the main ribbon and click My Content.  There is a Create app button that will allow you to work with 7 different types of interactive apps. </p> <p></p> <p>Learn More: Get started with apps\u2014Portal for ArcGIS | Documentation for ArcGIS Enterprise</p>"},{"location":"portal/#creating-an-enterprise-site","title":"Creating an Enterprise Site","text":"<p>Host and Share your Maps &amp; Apps</p> What is an Enterprise Site? <p>ArcGIS Enterprise Sites allows you to create a tailored web page experience to help you share your GIS products to others  more easily, even if they are not used to working in your GIS. Instead of learning to navigate the portal and access groups, consumers can go directly to the custom web page you create to navigate the content relevant to them.  Consumers will require a Viewer role.</p> <p>Sites features a built-in web page designer that integrates a drag-and-drop experience with HTML markup, giving you absolute control over the design of the web pages you create. You can also add non-GIS content, such as videos and documents, to your Site to create a central place for material relevant to your users to be hosted and accessed.</p> <p>To request a Site, contact the DAS-GAE team via the Jira Board.  How to submit a technical request or report a problem.  Please include what you would prefer the URL to be.  The URL will be formatted as:     <code>https://geoanalytics.cloud.statcan.ca/portal/apps/sites/#/{YOUR_CHOSEN_URL}</code></p> <p>Along with your Site, 2 groups will be created.  One for editors, and one for viewers only.  These groups will control who has access to your site, and which items they can interact with.</p> <p>ESRI leverages a custom theme and build of the Bootstrap(3) system for page design.  Users who want to use custom HTML in the SiteApp should reference this resource: Calcite Bootstrap Theme by ESRI</p>"},{"location":"portal/#arcgis-enterprise-via-api","title":"ArcGIS Enterprise via API","text":"<p>Your project group will be provided with a Client ID upon onboarding which will be used to connect to the ArcGIS Enterprise Portal. Paste the Client ID in-between the quotations. </p>"},{"location":"portal/#connecting","title":"Connecting","text":"<p><pre><code>    gis = GIS(\"https://geoanalyticsdev.cloud.statcan.ca/portal\", client_id=' ')\nprint(\"Successfully logged in as: \" + gis.properties.user.username)\n</code></pre> The output will redirect you to a web page where you can login to the Portal using the StatCan Azure Login option. After successful login, you will recive a code to sign in using SAML. Paste this code into the output. </p> <p></p>"},{"location":"portal/#searching-content","title":"Searching Content","text":"<pre><code>    # Search for content in your ArcGIS Enterprise instance\nquery = \"my search query\" # replace with your search query\nitems = gis.content.search(query)\n# Print out the results of the search\nprint(\"Search results for '{}':\".format(query))\nfor item in items:\nprint(\"{} - {}\".format(item.title, item.url))\n</code></pre>"},{"location":"portal/#uploading-content","title":"Uploading Content","text":"<pre><code>    # Define the path to the file you want to upload\nfile_path = \"/path/to/your/file\"\n# Upload the file to your ArcGIS Enterprise instance\nitem_properties = {\"title\": \"My Uploaded File\", \"tags\": \"file, upload\"} # replace with your desired item properties\nitem = gis.content.add(item_properties, data=file_path)\n# Print out the URL of the uploaded item\nprint(\"Uploaded item URL: {}\".format(item.url))\n```\n###Create a WebMap\n```python\n# Create a new web map\nwebmap_properties = {\"title\": \"My New Web Map\", \"snippet\": \"This is my new web map.\"} # replace with your desired web map properties\nwebmap = WebMap(webmap_properties)\n# Save the web map to your ArcGIS Enterprise instance\nwebmap_item = webmap.save(item_properties=webmap_properties)\n# Print out the URL of the new web map\nprint(\"New web map URL: {}\".format(webmap_item.url))\n</code></pre>"},{"location":"portal/#analysis","title":"Analysis","text":"<pre><code>    # Get a reference to the feature layer you want to summarize\nlayer_url = \"https://your-arcgis-enterprise-url.com/server/rest/services/your-service/FeatureServer/0\" # replace with your layer URL\nlayer = gis.content.get(layer_url).layers[0]\n# Example: Summarize the data in the feature layer\nresult_layer = summarize_data(layer, [\"field1\", \"field2\"], [\"sum(field3)\", \"avg(field4)\"], output_name=\"Summary Layer\") # replace with your field names and summary functions\n# Print out the URL of the summarized data\nprint(\"Summarized data URL: {}\".format(result_layer.url))\n</code></pre>"},{"location":"portal/#learn-more-about-the-api-esri-documentation","title":"Learn More about the API; ESRI Documentation","text":""},{"location":"portal/#working-with-multiple-versions-dev-prod","title":"Working with Multiple Versions (DEV-PROD)","text":""},{"location":"portal/#utilizing-separate-workspaces","title":"Utilizing separate 'workspaces'","text":"<p>Creating separate test and production workspaces can provide significant benefits to project, including improving their development processes, reducing risk, and enhancing the reliability and security of their systems. </p> <p>However, physical separation of dev-test-prod workspaces is not feasible on DAS. Nonetheless, GAE can help by creating separate groups that emulate separate workspaces. Since each project has unique needs, there is no one-size-fits-all solution. However, the general process usually looks like this: </p> <p>If you are using an ArcGIS Site to share your app, the workflow will typically look like this: </p> <p>Users can use the ArcGIS Online Assistant to repair/relink layers and maps as needed.  See the next section for advice on using the tool.  IIt is essential to follow best practices, especially in naming and data organization when working with multiple workspaces.</p>"},{"location":"portal/#replacing-a-layer-within-an-existing-web-map","title":"Replacing a layer within an existing Web Map","text":"<p>There may be a scenario where you want to replace a layer in a map with an updated version or a replacement dataset.  There are several ways to accomplish this, one of the easier methods is using the ArcGIS Online Assistant</p> Proceed with Caution! <p>Changing a layer in an existing map may have unintended consequences. App Widgets and controls linked to the map might break and need to be reconfigured.  Ensuring layer names and table headers match old versions will help keep compatibility, but there is no guarantee. Risks include: Corrupting content, losing access to items, breaking apps built ontop of the map.</p> <ol> <li> <p>Log in to Portal for ArgGIS </p> </li> <li> <p>Enter the Portal URL https://geoanalytics.cloud.statcan.ca/portal ,and, your APP ID (API Key) from the ArcGIS Portal </p> </li> <li> <p>A pop-up window will appear, select StatCan Azure Cloud Login </p> </li> <li> <p>In the Assistant Home page, Select the folder where you map is saved on the Portal </p> </li> <li> <p>Select I want to, then Update the URLs of Services in a Web Map </p> </li> </ol> <p>6.In the Find file, enter the URL of the old layer you want to replace.  In replace enter the new URL. Scroll down and select Update Then wait for the Success message.  </p> Where to find the Feature Service URL <p>The URL Can be found in the Portal, on the Feature Services Overview Page:</p> <p></p> <p>The data in your map will now reflect the new service.  You will may need to adjust the Name of the layer on your map, as it will reflect the origina layer.</p> <p>For those who prefer to do things via Python API; follow these instructions provided by ESRI</p>"},{"location":"portal/#replacing-a-web-map-within-an-existing-web-app","title":"Replacing a Web Map within an existing Web App","text":"Proceed with Caution! <p>Changing a map in an existing web app may have unintended consequences. Widgets and controls might break and need to be reconfigured.  Ensuring layer names and table headers match old versions will help keep compatibility, but there is no guarantee.  DAS-GAE recommends experimenting on a demo/copied app first.  Risks include: Corrupting content, losing access to items, breaking apps built ontop of the map.</p> <p>There may be a scenario where you want to replace a web map with a new map in an already built web app.  We will walk you through how to do this using the AGO Assistant.  We will use the same ArcGIS Online Assistant tool as above, but with a different workflow.</p> <ol> <li> <p>Log in to Portal for ArgGIS </p> </li> <li> <p>Enter the Portal URL https://geoanalytics.cloud.statcan.ca/portal ,and, your APP ID (API Key) from the ArcGIS Portal </p> </li> <li> <p>A pop-up window will appear, select StatCan Azure Cloud Login </p> </li> <li> <p>In the Assistant Home page, Select the folder where you map is saved on the Portal </p> </li> <li> <p>From the I want to... button, select View an Item's JSON, then select the desired app from the highlighted list.  The JSON data will appear on the right. </p> </li> <li> <p>Scroll down on the JSON data pane, to the Data category, and Select the Edit icon.  The data tile will turn to dark-mode, signifying it is in edit mode. </p> </li> <li> <p>In the data tile, locate the map attribute, and replace the itemID field with the new maps ID.  </p> How to find a Map Id <p>The Map Id can be obtained by visiting the Map's overview page, and copying it from the URL </p> </li> <li> <p>Scroll up to the beginning of the data tile and select Save. Confirm the changes in your app, and reconfigure widgets as needed.  </p> </li> </ol>"},{"location":"portal/#cloning-with-the-api","title":"Cloning with the API","text":"<pre><code>    # Connect to the source portal\nsrc_gis = GIS(\"https://geoanalytics.cloud.statcan.ca/portal\", client_id='')\n# Connect to the destination portal\ndest_gis = GIS(\"https://geoanalytics.cloud.statcan.ca/portal\", client_id='')\n# Clone the web app and its linked resources\nweb_map_item = src_gis.content.get(\"web_map_item_id\")\ncloned_item = web_map_item.clone(portal=dest_gis, folder=\"folder_name\")\n# Loop through the cloned item's dependent items and clone them too\nfor dependency in cloned_item.dependencies:\ndependency_item = src_gis.content.get(dependency[\"id\"])\ncloned_dependency = dependency_item.clone(portal=dest_gis, folder=\"folder_name\")\n# Update the cloned item's dependency with the new item ID\ncloned_item.update_item_dependencies(dependency_item.id, cloned_dependency.id)\nprint(\"Web app and its linked resources cloned successfully!\")\n</code></pre> Proceed with Caution: CLONE vs COPY <p>This clone method does not always work.  Some dataset, layers, items, etc, will be COPIED instead of CLONED. Copies reference back to the original item, pay close attention to the items ID.  It will NOT work for 'map image layers'.</p>"},{"location":"portal/#best-practices","title":"Best Practices","text":"<p>Tags</p> <ul> <li>Items should only be shared to your group. Do not share to the enterprise or public level.</li> <li>Use many appropriate tags - this is how most people will find your work. </li> <li>Use common tags for items that are related.</li> </ul> <p>Content Management</p> <ul> <li> <p>Organize content: Use a structured and logical system to organize content in the portal. This can include creating folders, groups, and categories to make it easier for users to find and access content.</p> </li> <li> <p>Use metadata: Include comprehensive metadata for all items in the portal to make it easier for users to discover, understand, and use the content</p> </li> <li> <p>Use a Naming Convention</p> <ul> <li>Use Semantic Versioning<ul> <li>A three-part version number (Major.Minor.Patch)</li> <li>ex: My Map v1.2.4,  EV_Viewer_App DEV v0.0.2</li> <li>add a Last Updated: attribute to the details in the item's overview page </li> </ul> </li> </ul> </li> </ul>"},{"location":"postgresql/","title":"PostgreSQL+PostGIS","text":"Prerequisites <ol> <li>An onboarded project with a requested database   </li> <li>A virtual machine in the DAaaS Environment with pgAdmin and/or ArcGIS Pro and/or QGIS and/or CAE Azure Services. See the VM page for more information</li> </ol>"},{"location":"postgresql/#accessing-your-database","title":"Accessing your Database:","text":"1. pgAdmin <p>This is one of the more common tool for PostgreSQL database administration. PG-Admin has been installed on your VM.</p> <ol> <li> <p>Connect to your cloud VM and launch pgAdmin.     </p> </li> <li> <p>Add the server you need to connect to by right clicking on Servers in the top left corner     </p> </li> <li> <p>In the General tab, enter a name for your server. You can write the real name of the server    In the Connection tab, enter the full Server name and add your Cloud Account  as Username followed by the server name    or the active directory group you belong to followed by the server name if access to the server was granted to that active directory group.     </p> </li> <li> <p>You can now see in the list of server the newly added server.     Click on it to connect and you will be asked to enter a password     </p> </li> </ol> <p>Learn More: pgAdmin docs</p> 2. ArcPro <p>GAE has streamlined the ArcGIS Pro-PostgreSQL connection process by utilizing a .sde file connection.</p> <ol> <li> <p>In the Catalog pane, right-click Databases and select Add Database </p> </li> <li> <p>In the new window, expand This PC and located your project File share (mounted as a drive) </p> </li> <li> <p>Select the .sde file, and click Ok</p> </li> <li> <p>The PostgreSQL database will not appear under Databases in the Catalog pane.</p> </li> </ol> <p>Learn More: ArcGIS Pro Documentation</p> 3. QGIS <ol> <li> <p>Under the browser tab, Right-click PostgreSQL, and select New Connection</p> <p></p> </li> <li> <p>A new window will open:</p> <p></p> </li> <li> <p>Enter the following information:</p> Field Entry Name Your chosen name(alias) for the database Host Database Instance see onboarding info Port 5432 Database The true name of the database see project file-share; postgreqsl_connection.txt SSL mode allow Authentication *Press the green + button, then enter your cloud info Also list tables with no geometry YES **All other fields can be left blank </li> <li> <p>Select Test Connection</p> </li> <li> <p>The database will now appear under the PostgreSQL heading in the QGIS Browser</p> </li> </ol> <p>Learn More:</p> <ul> <li> <p>QGIS Documentation</p> </li> <li> <p>QGIS + Azure Documentation</p> </li> <li> <p>Line 45- Using QGIS with PostGIS: A Dynamic Duo (whitepaper - English only)</p> </li> </ul> 4. CAE- Azure Cloud Services <p>Azure Data Factory, Azure Data Bricks, Azure Synapse</p> <p>Learn how to use CAE services</p> <p>Please contact the support team through the https://cae-eac.slack.com channel if you need assistance.</p> 5. Python <p>Replace the placeholders with your own database details to connect to your own PostgreSQL database.</p> <pre><code>```\nimport psycopg2\n\nconn = psycopg2.connect(\n    dbname=\"your_database_name\",\n    user=\"your_username\",\n    password=\"your_password\",\n    host=\"your_host\",\n    port=5432\n)\n\n# Define the SQL query to select data from the table\nquery = \"SELECT * FROM your_table;\"\n\n# Use pandas to read the query results into a dataframe\ndf = pd.read_sql_query(query, conn)\n\n# Close the database connection\nconn.close()\n\n# Print the dataframe\nprint(df)\n```\n</code></pre>"},{"location":"postgresql/#how-to-add-data-into-your-database","title":"How to add data into your database","text":"1. Python <p>There are many python packages available for working with PostgreSQL (SQLAlchemy, psycopg*, ogr2ogr...)  This example uses sqlalchemy with help from geoPandas to load a shapefile into the database:</p> <pre><code>```\nimport geopandas as gpd\nfrom sqlalchemy import create_engine\n\n# create the sqlalchemy connection engine\n# replace the &lt; &gt;\n#Example: \"postgresql://myUsername:myPassword@geopostgresqlflex.postgres.database.azure.com:5432/myDataBase\"\ndb_connection_url = \"postgresql://&lt;username&gt;:&lt;password&gt;@&lt;instance&gt;:&lt;port&gt;/&lt;database&gt;\"\nlink = create_engine(db_connection_url)\n\n# read in the data into a geo-dataframe\ngdf = gpd.read_file(r'path_to_file')\n\n# Push the geo-dataframe to postgresql\ngdf.to_postgis(\"&lt;table_name&gt;\", link, index=False, if_exists='replace') \n```\n</code></pre> <pre><code>```\nimport psycopg2\nfrom sqlalchemy import create_engine\nimport pandas as pd\n\n# Connect to the database\nconn = psycopg2.connect(\n    host=\"your_host\",\n    database=\"your_database\",\n    user=\"your_username\",\n    password=\"your_password\"\n)\n\n# Create a SQLAlchemy engine to connect to the database\nengine = create_engine('postgresql://your_username:your_password@your_host/your_database')\n\n# Define the name of the table to be created in the database\ntable_name = 'your_table'\n\n# Define the dataframe to be exported\ndf = pd.DataFrame()\n\n# Use the to_sql method of the dataframe to export it to the database\ndf.to_sql(table_name, engine, if_exists='replace')\n\n# Close the database connection\nconn.close()\n```\n</code></pre> <p>Learn More:</p> <ul> <li> <p>SQLAlchemy Docs</p> </li> <li> <p>PYSHEET - SQLAlchemy cheatsheet (unofficial)</p> </li> <li> <p>GeoPandas Docs</p> </li> </ul> 2. pgAdmim <p>pgAdmin Help Docs: Import/Export Data</p> <p></p> 3. QGIS <p>In current versions of QGIS you can export shape files to PostGIS using the build in DB Manager.  Somewhat counterintuitively, QGIS refers to this as 'importing to Postgis'. </p> <ol> <li> <p>Open DB Manager </p> </li> <li> <p>In the list of PostGIS databases find the one you want to export to, find the desired schema and press import button (marked with the red outline). </p> </li> <li> <p>Choose the shape file in 'input' (must be in your 'Layers Panel') and press 'ok' </p> </li> </ol> <p>Learn More: </p> <ul> <li> <p>QGIS Docs- Lesson: Import and Export</p> </li> <li> <p>OSGeo Docs- PostGIS Quick start</p> </li> <li> <p>Line 45- Using QGIS with PostGIS: A Dynamic Duo (whitepaper)</p> </li> </ul> 4. ArcPro <p>To simplify the process, GAE has crated a database connection file for your project; .sde file.  This can be located in your project's file share which is mounted as a drive to your VM.</p> <ol> <li> <p>When ready import your data into the PostgreSQL DB from arc pro, use the Feature Class to Feature Class tool. </p> </li> <li> <p>For Output Location select the .sde file in your projects file share. </p> </li> <li> <p>Output Name will be the table name in the database</p> </li> <li> <p>Select run</p> </li> </ol>"},{"location":"postgresql/#tips","title":"Tips","text":"Best Practices <ul> <li> <p>Optimize your database: Use the appropriate indexes, and partition your data to improve performance.</p> </li> <li> <p>Use projections and coordinate systems: Always use the correct projection and coordinate system for your data. PostGIS provides functions for transforming between coordinate systems and projections.</p> </li> <li> <p>Keep your database clean: Regularly clean up your database by vacuuming, analyzing, and deleting unnecessary data.</p> </li> <li> <p>Use transactions: Use transactions to ensure that your database operations are atomic and consistent. This can prevent data corruption and improve performance.</p> </li> <li> <p>Use a backup strategy: Create and maintain regular backups of your database to prevent data loss.</p> </li> <li> <p>Document your database: Document your database schema, data structures, and other important details to ensure that others can understand and use your database.</p> </li> </ul> Learn more about PostgreSQL + PostGIS <p>Learn More: About PostgreSQL</p> <p>Learn More: About PostGIS</p>"},{"location":"pro/","title":"ArcGIS Pro on DAS GAE","text":"Your ArcGIS Pro license <p>ArcGIS Pro licenses are managed by the StatCan GeoHelp team. This is the same license that you use to access ArcGIS Pro on NetA-B/AVD and ArcGIS Online. DAS can not provide you with a license. </p> <p>Please contact GeoHelp for assistance: geohelp@statcan.gc.ca</p>"},{"location":"pro/#connect-your-arcpro-license-internal-stc-user","title":"Connect your ArcPro License (Internal STC user)","text":"<ol> <li> <p>In the Settings Menu, select \"Licensing\" from the list on the left-hand side. It is normal for the license manager to take several minutes to initialize.</p> </li> <li> <p>Click on the Configure your licensing options </p> </li> <li> <p>In the License Type drop-down, select the Concurrent Use option.</p> </li> <li> <p>In the License Manager field, enter the hostname: Stmcapp-200.statcan.ca </p> </li> <li> <p>Click on the \"Ok\" button to save your changes.</p> </li> <li> <p>Restart ArcGIS Pro to activate the new license settings.</p> </li> </ol> <p>Once you have connected to the concurrent license server, you should be able to see the Licenses for the ArcGIS Pro software and any extensions that are included.</p>"},{"location":"pro/#connect-pro-to-enterprise-portal","title":"Connect Pro to Enterprise Portal","text":"<p>A connection to the DAaaS GEO ArcGIS Enterprise Portal needs to be established in order to publish from ArcGIS Pro to the Portal.  Follow these steps:</p> <ol> <li> <p>a: From the ArcGIS Pro home screen select Settings, then select Portals </p> <p>OR</p> <p>b: Within a project right-click your name at the top right of the window and select: Manage Portals </p> </li> <li> <p>Select Add Portal and enter the following URL: https://geoanalytics.cloud.statcan.ca/portal/ </p> </li> <li> <p>The connection will then be listed.  Select the more button '...', then select Sign in.      We also suggest after the connection is completed you select the  Set As Active Portal from the more... drop-down.</p> </li> <li> <p>A browser window will open, click the 'Azure Cloud Login' login button and follow the prompts.  Once Azure authentication is completed, you will be returned to the ArcGIS Pro screen.</p> <p></p> <p>Learn more about Self-Registering in the Portal</p> <p>Learn more: Manage portal connections from ArcGIS Pro</p> </li> </ol>"},{"location":"pro/#connect-to-a-postgresql-database","title":"Connect to a PostgreSQL Database","text":"<p>GAE has streamlined the ArcGIS Pro-PostgreSQL connection process by utilizing a .sde file connection.</p> <ol> <li> <p>In the Catalog pane, right-click Databases and select Add Database </p> </li> <li> <p>In the new window, expand This PC and located your project file share (mounted as a drive) </p> </li> <li> <p>Select the .sde file, and click Ok</p> </li> <li> <p>The PostgreSQL database will not appear under Databases in the Catalog pane.</p> </li> </ol> <p>Learn More: ArcGIS Pro Documentation</p>"},{"location":"pro/#publishing-to-enterprise-portal","title":"Publishing to Enterprise Portal","text":"<p>As a member on GAE, you will have either a Project Member or Project Viewer user role. The same priviledges will carry across both ArcGIS Enterprise and ArcGIS Pro.</p>"},{"location":"pro/#importing-data-from-arcgis-enterprise","title":"Importing data from ArcGIS Enterprise","text":"<p>Both users with the Project Member and Project Viewer roles will have the ability to consume (view) shared data from their project groups in ArcGIS Pro asd well as perosnal data.</p> <p>In the Catalog pane (if the Catalog pane is closed, click the View tab on the main ribbon. In the Windows group, click Catalog Pane), select the Portal tab. The same Content tabs from ArcGIS Enterprise will appear; My Content, My Favorites, My Groups, My Organization, ArcGIS Enterprise, and Living Atlas.  </p>"},{"location":"pro/#sharing-data-to-arcgis-enterprise","title":"Sharing data to ArcGIS Enterprise","text":"<p>Only users with the Project Member role will have the ability upload and share content to the Portal.</p> <p>Right click on a layer in the Contents pane (if the Contents pane is closed, click the View tab on the main ribbon. In the Windows group, click Contents) and select Sharing &gt; Share as Web Layer from the drop down menu. A new Share As Web Layer window will appear.  </p>"},{"location":"pro/#best-practices","title":"Best Practices","text":"<ul> <li> <p>Organize your data: Create a logical folder structure and use descriptive names for your layers and datasets to make them easy to find and understand.</p> </li> <li> <p>Limit the number of folders: Don't create too many levels of folders within your project, as this can make it difficult to navigate and locate items. Limit the number of levels to no more than three or four.</p> </li> <li> <p>Use subfolders sparingly: Use subfolders only when necessary, such as when you have a large number of items or need to organize them by location or theme.</p> </li> <li> <p>Separate working data from published data: Keep your working data separate from your published data. This can help prevent accidental modification or deletion of important data.</p> </li> <li> <p>Use the project pane: Use the Project pane to manage your data, maps, and layouts. This makes it easy to switch between different parts of your project.</p> </li> <li> <p>Use bookmarks: Use bookmarks to save specific views of your map. This makes it easy to return to a specific location and zoom level.</p> </li> <li> <p>Use labeling wisely: Use labeling sparingly and make sure it is clear and easy to read. Consider using halo or background fills to make labels stand out.</p> </li> <li> <p>Use symbology consistently: Use consistent symbology across your maps to make them easier to read and understand.</p> </li> <li> <p>Document your work: Document your work using the metadata tools in ArcGIS Pro. This makes it easy to share your work with others and helps you keep track of changes over time.</p> </li> <li> <p>Use map packages: Use map packages to share your maps and data with others. This ensures that all the necessary data and settings are included.</p> </li> <li> <p>Use Geodatabases over shapefiles: Overall, geodatabases are a more robust and versatile data storage format than shapefiles.</p> </li> <li> <p>Optimize your workflow: Optimize your workflow by using the tools and shortcuts available in ArcGIS Pro. This can save you time and help you work more efficiently.</p> </li> <li> <p>Take advantage of resources: Take advantage of the ArcGIS Pro documentation, training, and user communities to learn more about best practices and to get help when you need it.</p> </li> </ul> ArcGIS Pro Official Documentation <p>Learn More: ArcGIS Pro Official Documentation</p>"},{"location":"qgis/","title":"QGIS - Free and Open Source","text":"What is QGIS <p>QGIS is free geospatial analysis desktop software that provides a intuitive user interface and supports a wide variety of data types and formats.</p> <p>QGIS provides a large number of basic GIS analysis functions and visualizations; and the option to download extension for more complex analysis. </p>"},{"location":"qgis/#getting-started","title":"Getting Started","text":""},{"location":"qgis/#geo-virtual-machine","title":"GEO Virtual Machine","text":"<p>QGIS comes installed on your VM by default. It can be found under the start menu:     </p> AAW <p>QGIS is also available on the Remote Desktops available through the AAW.</p> <p> Setting up a workspace in the AAW:   Learn how to deploy a remote desktop in the AAW environment </p>"},{"location":"qgis/#training-videos","title":"Training Videos","text":"<p>STC's Statistical Geomatics Centre has produced an online lecture series that provides an into to QGIS.  These videos are great for beginners, those transitioning from a COST product to QGIS, and for the advanced user to get a refresher.</p> <p>Video 1 - What is GIS, and why use QGIS (external link)</p> <p> View the  Full Lecture Series Catalog (external link)</p>"},{"location":"qgis/#cheat-sheet","title":"Cheat Sheet","text":""},{"location":"qgis/#qgis-postgresqlpostgis","title":"QGIS &amp; PostgreSQL+PostGIS","text":"<ol> <li> <p>Under the browser tab, Right-click PostgreSQL, and select New Connection</p> <p></p> </li> <li> <p>A new window will open:</p> <p></p> </li> <li> <p>Enter the following information:</p> Field Entry Name Your chosen name(alias) for the database Host Database Instance see onboarding info Port 5432 Database The true name of the database see onboarding info SSL mode allow Authentication *Press the green + button, then enter your cloud info Also list tables with no geometry YES **All other fields can be left blank </li> <li> <p>Select Test Connection</p> </li> <li> <p>The database will now appear under the PostgreSQL heaiding in the QGIS Browser</p> </li> </ol> <p>Learn More:</p> <ul> <li> <p>QGIS Documentation</p> </li> <li> <p>QGIS + Azure Documentation</p> </li> <li> <p>Line 45- Using QGIS with PostGIS: A Dynamic Duo (whitepaper - English only)</p> </li> </ul>"},{"location":"qgis/#best-practices","title":"Best Practices","text":"<ul> <li> <p>Use a Project File: Always start by creating a project file for your work. This helps you keep your layers organized and makes it easy to share your work with others.</p> </li> <li> <p>Use Layer Styling: QGIS provides a lot of options for layer styling. Use them to make your maps look better and more professional.</p> </li> <li> <p>Keep Your Data Organized: Keep your data organized and up to date. Use descriptive file names and keep your data in logical folders.</p> </li> <li> <p>Use Plugins: QGIS has a large community of developers who create plugins to extend its functionality. Take advantage of these plugins to make your work easier and more efficient.</p> </li> <li> <p>Use Projections: Make sure you understand projections and use them appropriately. This will help ensure that your data is accurate and that your maps are meaningful.</p> </li> <li> <p>Learn Keyboard Shortcuts: QGIS has a lot of keyboard shortcuts that can save you time and effort. Take the time to learn them and you'll be more productive.</p> </li> <li> <p>Use the QGIS Community: QGIS has a large and active community of users and developers. Use the community to learn more about the software, get help with problems, and share your work with others.</p> </li> </ul>"},{"location":"qgis/#more-resources","title":"More Resources","text":"<ul> <li> <p> QGIS Official Training Manual </p> </li> <li> <p> QGIS Python Plugins Repository </p> </li> <li> <p> QGIS Tutorial and Tips </p> </li> </ul>"},{"location":"quick/","title":"Getting Started","text":"How to launch your VM Prerequisites <p>You have already claimed your VM </p> <p>Full Help: Link to VM Help Page</p> <p>Quick Help:</p> <ol> <li>Access the Azure Portal: https://portal.azure.com/#home</li> <li>Select More Services and search for: DevTest Labs</li> <li>Ensure Subscription Equals is set to ALL</li> <li>Select geop-prod-intuser-dtl</li> <li>Locate and Select your VM</li> <li>Select Start, wait for confirmation, Select Browser Connect</li> <li> Remember to STOP your VM when finished </li> </ol> DAS GEA ArcGIS Enterprise Portal <p>Full Help: Link to Help ArcGIS Enterprise Portal Page</p> <p>Quick Help:</p> <ol> <li>Access via this URL: DAS GEA Enterprise Portal</li> <li>Click the StatCan Azure Cloud Login</li> <li>If this is your first time accessing it, you will have to do some registration steps, then contact DAS GEA to have your account configured</li> </ol> How to access your Database <p>Full Help: Link to PostgreSQL+PostGIS Help Page</p> <p>In ArcPro </p> <ol> <li> <p>In the Catalog pane, right-click Databases and select Add Database</p> </li> <li> <p>In the new window, expand This PC and located your project File-share (mounted as a drive), select the .sde file</p> </li> </ol> <p> In QGIS</p> <ol> <li> <p>Under the browser tab, Right-click PostgreSQL, and select New Connection</p> </li> <li> <p>Enter the following information:</p> <ul> <li>Name = chosen name(alias) for the database</li> <li>Host = Database Instance see project file-share</li> <li>Port = 5432</li> <li>Database = The true name of the schema see project file-share</li> <li>SSL mode = allow</li> <li>Authentication = Press the green + button, then see project file-share*</li> <li>Also list tables with no geometry = YES </li> </ul> </li> <li> <p>Select Test Connection</p> </li> </ol> <p> With python <pre><code>    import psycopg2\nconn = psycopg2.connect(\ndbname=\"your_database_name\",\nuser=\"your_username\",\npassword=\"your_password\",\nhost=\"your_host\",\nport=5432\n)\nquery = \"SELECT * FROM your_table;\nconn.close()\n</code></pre></p> How to contact DAS GAE <p>Full Help: Link to Contact Help Page</p> <p>Quick Help:</p> <p>For  technical support, or  requests please submit a ticket via Jira:</p> <ol> <li>Open Statistics Canada Jira software: DAS Geospatial Environment (DASGAE)</li> <li>From the Menu Bar, select the button \u201cCreate\u201d:</li> <li>In the Jira Create Issue Window, Select the Issue Type = \u201cClient Support\u201d:</li> <li>In the Jira Create Issue window, enter the information related to your request</li> </ol> Useful DAS Links <p>DAS GAE ArcGIS Portal</p> <p>Collaborative Analytics Environment</p> <p>CAE Self-Help Guidebook</p> <p>Advanced Analytics Workspace</p> <p>AAW Self-Help Guidebook</p> <p>ESRI ArcGIS Enterprise Portal Help</p> <p>Azure Help Documents</p> <p>QGIS Help Documents</p> <p>Federal Geospatial Platform</p> <p>DAS Acronyms &amp; Terms</p> Term Description/Meaning DAS Data Analytics Services GAE Geospatial Analytic Environment AAW Advanced Analytics Workspace [link] CAE Creative Analytic Environment [link] FAIR(FDI) Findable, Accessible, Interoperable, Reusable; Data Infrastructure &amp; Pipelines Jira Support ticketing and tracking software in STC VM Virtual Machine(s) GPU Graphics processing unit; GEA VMs AVD Azure Virtual Desktop 2(M)FA Two+ factor authentication Azure ID StatCan Cloud login; first.last@cloud.statcan.ca"},{"location":"resources/","title":"More about.....","text":"<p>ESRI Training; ArcGIS Pro, ArcGIS Enterprise, ArcGIS Insights</p> <p>QGIS Tutorials &amp; Examples</p> <p>Azure and other Microsoft technologies</p>"},{"location":"sdmx/","title":"SDMX","text":"What is SDMX? <p>SDMX, which stands for Statistical Data and Metadata eXchange is an international initiative that aims at standardising and modernising (\u201cindustrialising\u201d) the mechanisms and processes for the exchange of statistical data and metadata among international organizations and their member countries.</p> <p>Simply, SDMX is a new technology that simplifies the transmission of statistical data. SDMX is a standard and technology to style and transmit data using machine-to-machine language. It is a:</p> <ul> <li>Logical model to describe and structure content</li> <li>Standard for automatic communication</li> <li>Technology supporting standardization</li> </ul>"},{"location":"sdmx/#sdmx-at-stc","title":"SDMX at STC","text":"<p>Currently, Census Profile information is available at all geography levels via an SDMX API. In the near future, all CODAR products will be available via an SDMX API.  A small example is included below.</p> <p> Learn more about the 2021 CEnsus Profile SMDX API </p> <p> The SDMX Data Explorer allows users to query and view the results within your browser. New SDMX users generally find this helpful when tryign to understand the data before connecting via the API.</p>"},{"location":"sdmx/#api-example","title":"API Example","text":"<p>STC Census Profile SDMX Python API<pre><code>import pandas as pd\nimport pandasdmx as sdmx\ninfo = {\n\"id\": \"STC_CP\",\n\"url\": \"https://api.statcan.gc.ca/census-recensement/profile/sdmx/rest\",\n\"name\": \"STC Census Profiles\"\n}\nsdmx.add_source(info, id=None, override=True)\nstc = sdmx.Request('STC_CP')\nresp = stc.data('df_pr')\n#df_pr- Canada, provinces and territories dataflow\ndata = resp.to_pandas()\n#returns a series with a multi-index, \"2-d series; 3-d dataframe\"\ndata\n</code></pre> The code above returns this multi-index dataframe:  After conditioning of the Ref_Area column, you can then join it to a spatial dataframe or geography layer.</p> Dataflow code Name of Dataflow DF_PR * Canada, provinces and territories  used in example above DF_ADA aggregate dissemination area DF_CD census divisions DF_CMACA census metropolitan areas and census agglomerations DF_CSD census subdivisions (municipalities) DF_CT census tracts DF_DA dissemination areas DF_DPL designated places DF_ER economic regions DF_FED federal electoral districts (2013 Representation Order) DF_POPCNTR population centres <p> SDMX API CHEAT SHEET : The SDMX Technical Working Group has also published a two-page cheat sheet (PDF, 83 KB) that summarizes the main points of the SDMX 2.1 RESTful API. </p>"},{"location":"vm/","title":"Using your Cloud VM","text":""},{"location":"vm/#about-gea-virtual-machines","title":"About GEA Virtual Machines","text":"<p>A GEA Virtual Machine will be created for you. </p> The standard GEA VMs include the following: <p>Hardware:</p> <ul> <li>4vcpus, 14GiB Memory </li> <li>AMD Radeon Instinct MI25 GPU</li> <li>Managed storage</li> <li>learn more- Microsoft</li> </ul> <p>Software:</p> <ul> <li>ArcGIS Pro (BYO-license) </li> <li>QGIS </li> <li>Conda (via miniforge)</li> <li>Python IDEs (pyCharm, VSCode, Jupyter)</li> <li>&amp; resources identified during your Project Onboarding.</li> </ul> Virtual Machines on AAW and CAE <p>Depending on your project, you may have the ability to create a standard virtual machine via the CAE, or create a workspace in the AAW. These self-serve VMs are NOT optimized for geospatial rendering.</p>"},{"location":"vm/#first-use","title":"First Use","text":""},{"location":"vm/#finding-claiming-a-vm","title":"Finding &amp; Claiming a VM","text":"<ol> <li> <p>Access Azure Portal URL from OZ (do NOT use your AVD unless for a specific reason!)     https://portal.azure.com/#home</p> </li> <li> <p>Select More Services, and filter/search for DevTest Labs </p> </li> <li> <p>Change the Subscriptions filter to: ALL  or DAaaS</p> <p>Select geop-prod-intuser-dtl</p> <p> </p> </li> <li> <p>On the left menu panel, select: Claimable virtual machines</p> <p> </p> </li> <li> <p>Locate and select your VM. Your VM will be named: projectAccroymn-statcanID</p> <p>ex: gae-namenick</p> <p> </p> </li> <li> <p>In the VM overview page, select Claim machine</p> <p> </p> </li> <li> <p>Claiming will take a few minutes. Wait for the \u2018Successfully claimed\u2019 message before proceeding.      </p> </li> <li> <p>Select Browser connect. A new panel will open on the right.</p> <p>Enter your username: StatCanID (ex: namenick)</p> <p>Enter the temp password: (provided via onboarding email)</p> <p>Select Connect</p> <p> </p> </li> </ol> Disable pop-up blockers <p>After attempting to login for the first time, an error may appear that a popup blocker is preventing a new window to open. To disable it, an icon will pop up on the browser's search bar, select the button and click always allow.  </p>"},{"location":"vm/#future-use","title":"Future Use:","text":""},{"location":"vm/#starting-a-vm","title":"Starting a VM","text":"<ol> <li> <p>Access Azure Portal url from OZ (do NOT use your AVD unless for a specific reason! see Tips section below):</p> <p>https://portal.azure.com/#home</p> <p>Select DevTe3st Labs from \"My Recent Resources\"</p> <p>Select your VM</p> <p>From the VM Overview page, click on the Start button.  </p> <p> </p> </li> </ol> <p>It takes a few minutes for your VM to start up. Monitor its start-up progress by selecting the Notifications icon at the top right of the window.   </p>"},{"location":"vm/#connect-to-a-vm","title":"Connect to a VM","text":"<ol> <li> <p>Start your VM, and wait for the notification (this can take a few minutes)</p> </li> <li> <ul> <li>From the Overview page for your VM, click on the Browser connect button         </li> </ul> </li> <li> <p>Ensure the Open in new window checkbox is selected, enter the Username and Password, and click on the Connect button. Your VM should open in a new browser tab.</p> </li> </ol>"},{"location":"vm/#stop-your-vm","title":"Stop your VM","text":"<p>Virtual machines incur costs while they are running.   You should shut down your virtual machine when not in use to prevent unnecessary charges.   Your VM has an automatic shut-down time of 7pm CST.</p> <ol> <li> <p>From the Overview page for your VM, click on the Stop button.  </p> <p> </p> </li> </ol>"},{"location":"vm/#resize-your-vm-self-serve","title":"Resize your VM (self-serve)","text":"<p>Users have the ability to re-size their VMs to conserve resources(costs) or increase performance.</p> <ol> <li> <p>From the VMs overview page, select Size in the left-menu bar </p> </li> <li> <p>Select the desired size, then click Select at the bottom of the window </p> </li> </ol> <p>If you require different specs from the VMs listed, submit a technical support ticket to DAS-GAE</p>"},{"location":"vm/#some-common-errors-fixes","title":"Some Common Errors &amp; Fixes","text":"Error Solution Your VM is still starting; wait a minute and try again You likely entered the VM username or password incorrectly, try again. You are experiencing some network latency; this usually resolves itself. If not, try restarting your VM"},{"location":"vm/#tips","title":"Tips","text":"<p> Do NOT use AVD to connect to a VM. AVD is also a Azure Cloud VM so you are only increasing resource costs, only use AVD if you have a specific reason.</p> <p> Visit the Knowledge Centre for help on configuring Python libraries and packages</p> <p> Using keyboard shortcuts while connected to a VM may not result in the same action as expected. (i.e. ctrl + z will close your main browser window, not the VM browser window)</p> <p> VMs have an auto-shutdown time of 7pm cst. (this can be adjusted upon request: FAQ)</p> <p> Moving the taskbar to the top or side of the VM might help differentiate between your OZ-PC and VM workspace.</p> <p> Multi-screens? You can not alter the VMs display settings, however there is a way to almost use multiple monitors. Use the Restore Down   button in your browser window and then drag to resize the window across multiple displays to get a multi-screen effect.  You may need to adjust some configurations in your OZ-Laptop display settings.</p> <p> By default, the Ubuntu virtual machine opens in Terminal mode. You can access the GUI of your Ubuntu machine from a Windows machine using X2Go.</p> <p>Learn more about CAE VMs Learn more about AAW Workspaces</p>"},{"location":"disabled_pages/AAW_GAE_Collab1/","title":"Geospatial Analytical Environment (GAE) - Cross Platform Access","text":"Unprotected data only; SSI coming soon: <p>At this time, our Geospatial server can only host and  provide access to non-sensitive statistical information.  </p>"},{"location":"disabled_pages/AAW_GAE_Collab1/#getting-started","title":"Getting Started","text":"Prerequisites <ol> <li>An onboarded project with access to DAS GAE ArcGIS Portal    </li> <li>An ArcGIS Portal Client Id (API Key)</li> </ol> <p>The ArcGIS Enterprise Portal can be accessed in either the AAW or CAE using the API, from any service which leverages the Python programming language. </p> <p>For example, in AAW and the use of Jupyter Notebooks within the space, or in CAE the use of Databricks, DataFactory, etc.</p> <p>The DAS GAE ArcGIS Enterprise Portal can be accessed directly here</p> <p>For help with self-registering as a DAS Geospatial Portal user</p>"},{"location":"disabled_pages/AAW_GAE_Collab1/#using-the-arcgis-api-for-python","title":"Using the ArcGIS API for Python","text":""},{"location":"disabled_pages/AAW_GAE_Collab1/#connecting-to-arcgis-enterprise-portal-using-arcgis-api","title":"Connecting to ArcGIS Enterprise Portal using ArcGIS API","text":"<ol> <li> <p>Install packages:</p> <pre><code>conda install -c esri arcgis\n</code></pre> <p>or using Artifactory</p> <pre><code>conda install -c https://jfrog.aaw.cloud.statcan.ca/artifactory/api/conda/esri-remote arcgis\n</code></pre> </li> <li> <p>Import the necessary libraries that you will need in the Notebook.     <pre><code>from arcgis.gis import GIS\nfrom arcgis.gis import Item\n</code></pre></p> </li> <li> <p>Access the Portal     Your project group will be provided with a Client ID upon onboarding. Paste the Client ID inbetween the quoatations <code>client_id='######'</code>. </p> <pre><code>gis = GIS(\"https://geoanalytics.cloud.statcan.ca/portal\", client_id=' ')\nprint(\"Successfully logged in as: \" + gis.properties.user.username)\n</code></pre> </li> <li> <ul> <li>The output will redirect you to a login Portal.</li> <li>Use the StatCan Azure Login option, and your Cloud ID </li> <li>After successful login, you will receive a code to sign in using SAML. </li> <li>Paste this code into the output. </li> </ul> <p></p> </li> </ol>"},{"location":"disabled_pages/AAW_GAE_Collab1/#display-user-information","title":"Display user information","text":"<p>Using the 'me' function, we can display various information about the user logged in. <pre><code>me = gis.users.me\nusername = me.username\ndescription = me.description\ndisplay(me)\n</code></pre></p>"},{"location":"disabled_pages/AAW_GAE_Collab1/#search-for-content","title":"Search for Content","text":"<p>Search for the content you have hosted on the DAaaS Geo Portal. Using the 'me' function we can search for all of the hosted content on the account. There are multiple ways to search for content. Two different methods are outlined below.</p> <p>Search all of your hosted itmes in the DAaaS Geo Portal. <pre><code>my_content = me.items()\nmy_content\n</code></pre> Search for specific content you own in the DAaaS Geo Portal.</p> <p>This is similar to the example above, however if you know the title of they layer you want to use, you can save it as a function. <pre><code>my_items = me.items()\nfor items in my_items:\nprint(items.title, \" | \", items.type)\nif items.title == \"Flood in Sorel-Tracy\":\nflood_item = items\nelse:\ncontinue\nprint(flood_item)\n</code></pre></p> <p>Search all content you have access to, not just your own.</p> <pre><code>flood_item = gis.content.search(\"tags: flood\", item_type =\"Feature Service\")\nflood_item\n</code></pre>"},{"location":"disabled_pages/AAW_GAE_Collab1/#get-content","title":"Get Content","text":"<p>We need to get the item from the DAaaS Geo Portal in order to use it in the Jupyter Notebook. This is done by providing the unique identification number of the item you want to use. Three examples are outlined below, all accessing the identical layer. <pre><code>item1 = gis.content.get(my_content[5].id) #from searching your content above\ndisplay(item1)\nitem2 = gis.content.get(flood_item.id) #from example above -searching for specific content\ndisplay(item2)\nitem3 = gis.content.get('edebfe03764b497f90cda5f0bfe727e2') #the actual content id number\ndisplay(item3)\n</code></pre></p>"},{"location":"disabled_pages/AAW_GAE_Collab1/#perform-analysis","title":"Perform Analysis","text":"<p>Once the layers are brought into the Jupyter notebook, we are able to perform similar types of analyis you would expect to find in a GIS software such as ArcGIS. There are many modules containing many sub-modules of which can perform multiple types of analyses. </p> <p>Using the arcgis.features module, import the use_proximity submodule <code>from arcgis.features import use_proximity</code>. This submodule allows us to '.create_buffers' - areas of equal distance from features. Here, we specify the layer we want to use, distance, units, and output name (you may also specify other characteristics such as field, ring type, end type, and others). By specifying an output name, after running the buffer command, a new layer will be automatically uploaded into the DAaaS GEO Portal containing the new feature you just created. </p> <pre><code>buffer_lyr = use_proximity.create_buffers(item1, distances=[1], \nunits = \"Kilometers\", \noutput_name='item1_buffer')\ndisplay(item1_buffer)\n</code></pre> <p>Some users prefer to work with Open-Source packages.  Translating from ArcGIS to Spatial Dataframes is simple. <pre><code># create a Spatially Enabled DataFrame object\nsdf = pd.DataFrame.spatial.from_layer(feature_layer)\n</code></pre></p>"},{"location":"disabled_pages/AAW_GAE_Collab1/#update-items","title":"Update Items","text":"<p>By getting the item as we did similar to the example above, we can use the '.update' function to update exisiting item within the DAaaS GEO Portal. We can update item properties, data, thumbnails, and metadata. <pre><code>item1_buffer = gis.content.get('c60c7e57bdb846dnbd7c8226c80414d2')\nitem1_buffer.update(item_properties={'title': 'Enter Title'\n'tags': 'tag1, tag2, tag3, tag4',\n'description': 'Enter description of item'}\n</code></pre></p>"},{"location":"disabled_pages/AAW_GAE_Collab1/#visualize-your-data-on-an-interactive-map","title":"Visualize Your Data on an Interactive Map","text":"<p>Example: MatplotLib Library In the code below, we create an ax object, which is a map style plot. We then plot our data ('Population Change') change column on the axes <pre><code>import matplotlib.pyplot as plt\nax = sdf.boundary.plot(figsize=(10, 5))\nshape.plot(ax=ax, column='Population Change', legend=True)\nplt.show()\n</code></pre></p> <p>Example: ipyleaflet Library In this example we will use the library 'ipyleaflet' to create an interactive map. This map will be centered around Toronto, ON. The data being used will be outlined below. Begin by pasting <code>conda install -c conda-forge ipyleaflet</code> allowing you to install ipyleaflet libraries in the Python environment.  Import the necessary libraries. <pre><code>import ipyleaflet \nfrom ipyleaflet import *\n</code></pre> Now that we have imported the ipyleaflet module, we can create a simple map by specifying the latitude and longitude of the location we want, zoom level, and basemap (more basemaps). Extra controls have been added such as layers and scale. <pre><code>toronto_map = Map(center=[43.69, -79.35], zoom=11, basemap=basemaps.Esri.WorldStreetMap)\ntoronto_map.add_control(LayersControl(position='topright'))\ntoronto_map.add_control(ScaleControl(position='bottomleft'))\ntoronto_map\n</code></pre> </p>"},{"location":"disabled_pages/AAW_GAE_Collab1/#learn-more-about-the-arcgis-api-for-python","title":"Learn More about the ArcGIS API for Python","text":"<p>Full documentation for the ArGIS API can be located here</p>"},{"location":"disabled_pages/AAW_GAE_Collab1/#learn-more-about-das-geospatial-analytical-environment-gae-and-services","title":"Learn More about DAS Geospatial Analytical Environment (GAE) and Services","text":"<p>GAE Help Guide</p>"},{"location":"disabled_pages/GeoServer/","title":"GeoServer","text":"<p>GeoServer takes GIS inputs (geoTiff, Shapefiles, Geopackages, Rasters, Mosaics, PostGIS) and processes them into outputs, or services, that are more easily consumed over the web. </p> <p>There are three four types of services (outputs) in GeoServer.</p> <ul> <li> <p>Web Mapping Services (WMS) provide the map as an image; WMS can be used for both vector and raster data</p> </li> <li> <p>Web Feature Services (WFS) provide features with their geometry and attributes. GeoJSON is the most common format of a WFS. However, it can support formats such as shapefiles and CSVs. WFS only support vector data</p> </li> <li> <p>Web Coverage Services (WCS) are similar to WFS but serve raster data. WCS provide tile services that take large raster data and divide them into tiles that only load in the geographic area in view. Tile services allow the data to be consumed more efficiently online.</p> </li> <li> <p>Web Processing Services (WPS) provide geoprocessing such as calculations and algorithms. They are essentially geoprocessing tools available online that can write to data locally or on a database. Unfortunately, WPS are not supported out-of-the-box in GeoServer and must be added with an extension.</p> </li> </ul> <p>Note</p> <p>Only designated people have access to the internal workings of GeoServer.  If you think you require access, please contact your DAaaS point person.</p>"},{"location":"disabled_pages/GeoServer/#getting-started","title":"Getting Started","text":""},{"location":"disabled_pages/GeoServer/#log-insign-on","title":"Log in/Sign on","text":"<p>Once you are logged in, you will see the GeoServer homepage. The left-hand column contains a list of tools you will use to manage the server. The tools are grouped into related categories, such as the About &amp; Status tool group that will give you information about the server. </p> <p></p>"},{"location":"disabled_pages/GeoServer/#orginization-of-data","title":"Orginization of Data","text":"<p>The first tool in the Data group is the Layer Preview. The tool is not part of the hierarchy, but it will give you a list of all the layers available on your GeoServer.</p>"},{"location":"disabled_pages/GeoServer/#workspaces","title":"Workspaces","text":"<p>Click the Workspaces tool from the Data group on the homepage. You will see the Workspaces dialogue. Click the green plus button at the top of the page to add a new Workspace. Give the Workspace a name. </p> <p></p> <pre><code>- The name should not contain blank spaces\n\n- The name can be anything unique\n\n- The name should clearly identify your Project\n\n- The Workspace will also require Namespace URI\n</code></pre>"},{"location":"disabled_pages/GeoServer/#stores","title":"Stores","text":"<p>Click Stores or you can first navigate back to the homepage by clicking the GeoServer icon in the top lefthand corner. Once you have navigated to the list of Stores, click the green plus button to add a new Store. Here you will see a list of all the different inputs that can be loaded on the server.</p> <p></p>"},{"location":"disabled_pages/GeoServer/#layers","title":"Layers","text":"<p>Next, you will add a Layer. Click Layers from the list of tools on the homepage. Click the green plus to add a new Layer. You will choose from which Store you want to add a Layer. Choose the PostGIS Store you just created. A list of Layers that are available in the Store will appear. Select publish next to the Layer. The Edit Layer dialog will appear. You can change the name if you want. You will need to ensure the Coordinate Reference System is correct. GeoServer will try and determine this automatically. You can double-check the coordinate system by loading the data into QGIS. Right-click the feature on the layers pane and navigate to Source. You will next compute the bounding boxes by clicking Compute from data and Compute from native bounds. Click Save. You will see your new feature in the Layers list.</p> <p>Back on the list of tools, choose the Layer Preview option. You should see the Layer you just created. Click the OpenLayers link in the Common Formats column. A new tab will appear with an OpenLayers map of your data. The data will be symbolized in the default symbology.</p>"},{"location":"disabled_pages/GeoServer/#layer-group","title":"Layer Group","text":"<p>Text</p>"},{"location":"disabled_pages/GeoServer/#symbolizing-your-data","title":"Symbolizing your Data","text":"<p>GeoServer stores symbology and labels in XML documents called Styles. </p> <p>You can create your customized Style in QGIS by symbolizing and labeling your data and storing the symbology as a Style Layer Definition file (SDL).</p> <p>Note</p> <p>You can apply the same Styles file to multiple Layers on the server.</p>"},{"location":"disabled_pages/GeoServer/#creating-a-style-sld-in-qgis","title":"Creating a Style SLD in QGIS","text":"<p>To do this, load your data into QGIS:</p> <ol> <li> <p>Right-click the feature in the Layers pane and select Layer Properties. </p> <ol> <li>From the Symbology and Labels tabs, you can configure your symbology and labeling to your liking. </li> </ol> </li> <li> <p>Click the Style button in the left-hand bottom of the options.</p> <ol> <li>Select Save Style, and you will see the Save Layer Style dialog. </li> <li>Use the first dropdown to save the Style as an SDL file somewhere on your local machine.</li> </ol> </li> <li> <p>Go back to GeoServer and select the Styles tool from the Data tool group. </p> <ol> <li>Select the green plus to add a new Style. The New style dialog will appear. </li> <li>Give your Style a name and choose the Workspace where you want it to be stored. </li> <li>Click the Browse button and navigate to where you stored your SDL file on your local machine. Select the file and click Upload. The XML for your Style will be loaded into the window. </li> <li>Click Validate to ensure that there are no validation errors. Click Save.</li> </ol> </li> <li> <p>Go to your Layers tool. Select the Layer to which you want to apply the Style. </p> <ol> <li>Select the Publishing tab at the top of the page. </li> <li>Towards the bottom of the page, you will see the Layer Settings and Default Style. </li> <li>Select the Style you just created from the list and click Save.</li> </ol> </li> </ol>"},{"location":"disabled_pages/bp/","title":"Data Management","text":""},{"location":"disabled_pages/bp/#data-storage","title":"Data Storage","text":""},{"location":"disabled_pages/bp/#data-catalog","title":"Data Catalog","text":""},{"location":"disabled_pages/bp/#visualization","title":"Visualization","text":""},{"location":"disabled_pages/bp/#literate-programming","title":"Literate Programming","text":"<p>Literate programming is method that combines programming language with a documentation, making programs more robust, more portable, and more easily maintained than programs written only in a high-level language.</p>"},{"location":"disabled_pages/clientid/","title":"Clientid","text":""},{"location":"disabled_pages/clientid/#obtaining-a-client-id","title":"Obtaining a client id","text":"<p>The steps below show how a client id can be obtained by registering a new application with your GIS. Only one client id is required, so if your GIS has one already, you may use it instead of creating a new application.</p> <ol> <li> <p>Log into your web GIS (ArcGIS Online organization or ArcGIS Enterprise)</p> </li> <li> <p>Go to Content tab</p> </li> <li> <p>Click '+ Add Item &gt; An Application' menu</p> </li> <li> <p>Add an application:</p> <ul> <li>Type: Application </li> <li>Title: Python</li> <li>Tags: python</li> </ul> </li> <li> <p>On the Item details page of this newly created application, navigate to Settings tab Click the Registered Info button. It's towards the bottom of the page. This will dispaly an App ID. This is your client id and needs to be passed in as the client_id parameter when construcing a GIS object. You need this in your Python code to log in. </p> </li> </ol>"},{"location":"disabled_pages/hnap/","title":"GeoSpatial Standards - ISO 19115*HNAP","text":""},{"location":"disabled_pages/hnap/#metadata-standards","title":"Metadata Standards","text":"<p>Metadata supports users in locating and accessing their resources, and data consumers in locating and using geodata resources produced by others. </p> <p>Metadata includes information about the content, quality, condition, and other characteristics of geodata.  It is necessary to document the temporal and spatial context of your data.</p> <p>  The DAaaS Geospatial Platform uses the following standards: ISO 19115-2003 HNAP , GeoDCAT-ap, SDMX. </p> <p>Standards facilitate the creation, sharing, and general use of geospatial data. Standards are necessary for interoperability between platforms, especially in the cloud environment.</p> <p>!!!</p>"},{"location":"disabled_pages/hnap/#19115-2003-hnap","title":"19115-2003 HNAP","text":"<p>The North American Profile of ISO 19115 - Geographic information - Metadata (HNAP - Metadata), published by the Canadian General Standards Board, identifies the geospatial metadata needed for North America to describe geospatial data, including dataset and dataset series, and related Web services. </p> <p>This metadata format is a Canadian variant of the North America Profile of ISO 19115 2003, which has a defined XML schema that supports federal government requirements. However, HNAP is not fully compatible with either the ISO or the NAP standards and thus requires unique processing which has been integrated in the DAaaS Platform.</p>"},{"location":"disabled_pages/hnap/#mandatory-elements","title":"Mandatory Elements","text":"<p>This section provides guidelines for populating the minimum mandatory metadata elements for Government of Canada geospatial datasets.</p> Element Description Section 1: Metadata Information  *File Identifier Each metadata record shall have a universal unique identifier (UUID) *Language Language code and country of the initial metadata language. eng; CAN or fra; CAN *Character Set Encoding of the metadata record. Hierarchy Level Level to which the metadata applies. Values typically are \"dataset; jeuDonn\u00e9es\" or \"series; s\u00e9rie\". Organization Name Organization responsible for the metadata. Email Email of the organisation (general). Role Responsible part function *Date Date that the metadata was created or last modified  (date or dateTime type). *Metadata Standard Name Name of the metadata standard/profile used. Code EPSG code or SR-ORG code. Section 2: Identification Information Tite Title of the Data Date Date of creation for the data. Repeat for creation, publication and revision. Date Type Creation, Publication, or Revision Organization Name Organisation responsible for the data. Email Email of the organisation. Role Reponsible party function. Suggestion: pointOfContact; contact Abstract Brief narrative summary of the dataset's contents Status Development phase of the dataset- see codelist !!DEAD LINK!! Update Frequency Revision cycle of the data. Keyword Codelist. -link- *Title Thesaurus title *Date Thesaurus creation date *Date Type Date type *Date Thesaurus publication date *Date Type Date type *Organization Name Name of the organisation responsible for the thesaurus *Role Role of the organization responsible for the thesaurus. *Use Limitation *Access Constraints *User Constraints Spatial Representation Type Spatial representation type of the data. (vector, grid, textTable, tin, stereoModel, video) Language Language of the data (usually eng; CAN or fra; CAN) Topic Category Main theme (English only) of the data. (farming, biota, boundaries, climatologyMeteorologyAtmosphere, economy, elevation, environment, geoscientificInformation, health, imageryBaseMapsEarthCover, intelligenceMilitary, inlandWaters, location, oceans, planningCadastre, society, structure, transportation, utilitiesCommunication) West Bound Longitude Geographic Bounding Box East Bound Longitude Geographic Bounding Box South Bound Latitude Geographic Bounding Box North Bound Latitude Geographic Bounding Box Begin Date Beginning or Start date of the time period that a particular dataset covers or describes Section 3: Distribution Information Name (file format) Format of the data distributed Version Version number or date of the format (or: unknown) Organization Name Organisation responsive for the distribution Email Address Email of the organisation responsivle for the distribution Role Responsible party function; Suggestion: distributor; distributeur Section 4: Web Map Service (if necessary) Linkage (Service URL) For a OGC:WMS service type, the format must conform to: \"a GetCapabilities request with non-standard parameters (mandatory :  \u201cLAYERS=\u201d, optional : \"\"LEGEND_FORMAT=legend_format&gt;\"\" and \"\"FEATURE_INFO_TYPE=\"\") :\" Protocol The value must conform to : OGC:WMS or ESRI REST: Map Service Name The name of the resource being described. Description The format must conform to: ContentType;Format;Lang(,Lang,Lang) where: ContentType:  Web Service; Format :  WMS or ESRI REST; Lang : eng, fra, zxx (for no linguistic content e.g. imagery) or the appropriate code from ISO 639-2/T.; List the data language(s) , separated by comma if more than one. <p>    * Automatically generated by DAaaS Catalog </p> <p>North American Profile of ISO19115:2003 Register - Codelists</p> <p></p>"},{"location":"disabled_pages/hnap/#geodcat-ap","title":"GeoDCAT-ap","text":"<p>GeoDCAT is a vocabulary designed to facilitate interoperability between catalogs.  It increases discoverability and will enable federalization of datasets.  GeoDCAT does not replace 19115; its purpose is to enhance it for catalogs.  </p> <p>GeoDCAT is for the exchange of descriptions of geospatial datasets, dataset series and services. It provides an RDF syntax binding for the union of all metadata elements defined in the core profile 19115.</p> <p>The DAaaS Platform automatically coverts your ISO 19115 metadata file into GeoDCAT.</p>"},{"location":"disabled_pages/hnap/#sdmx","title":"SDMX","text":"<p>SDMX 3.0 ...</p>"},{"location":"disabled_pages/hnap/#learn-more","title":"Learn More","text":"<p>List of resources to learn more</p> <p>DCAT Standard</p> <p>Government of Canada Geospatial Standards(Internal GC Only)</p> <p>TBS: Policies, directives, standards and guidelines</p> <p>Digital Geospatial Metadata (NRCAN)</p>"},{"location":"disabled_pages/options/","title":"Cost vs FOSS","text":"<p>This needs a lot of work.</p> QGISArcProArcMap - Desktop<ul><li>Open Source</li><li>Free</li></ul><ul><li>Commercial</li><li>$\u00a0</li></ul>User Interface<ul><li>Classic</li><li>Static menus, toolbars and panels</li></ul><ul><li>Modern</li><li>Ribbons and panels\u00a0<ul><li>Contextual tabs (tabs change based on layer type)</li></ul></li><li>Dark mode</li></ul><ul><li>Classic</li><li>Static menus, toolbars and panels</li></ul>Data Managment<ul><li>QGIS File Browser</li><li>Blank map on startup\u00a0</li><li>GeoPackages</li></ul><ul><li>File Catalog (built-in)</li><li>Basemap automatic on startup</li><li>GeoDatabases</li></ul><ul><li>File Browser</li><li>Blank starup</li><li>GeoDatabases</li></ul>Data Publishing<ul><li>Webmaps (QGIS2WEB - publishing extension)</li><li>Static documents</li><li>sld style files</li></ul><ul><li>More native output options</li><li>ArcOnline webmaps, StoryMaps, Apps</li><li>Static documents</li></ul><ul><li>mxd style files (arc environment only)</li></ul>Supported Formats<ul><li>Supports common industry formats (SHP, GPKG, KML, GEOJSON, OSM...)</li><li>80 Vector Formats (uses GDAL library)</li><li>140 Raster formats</li></ul><ul><li>Supports common industry formats (ArcFiles, SHP, GPKG, KML, CSV, TIFF...</li><li>Optimized for ARC formats</li><li>Supported Formats</li></ul>Supported Databaes<ul><li>PostGIS (postgresql)</li><li>SpatiaLite</li><li>GeoPackage</li><li>DB2</li><li>Oracle Spatial</li><li>MSSQL</li><li>Virtual layers</li></ul><ul><li><p>Dameng</p></li><li><p>DB2</p></li><li><p>Microsoft SQL Server</p></li><li><p>Oracle</p></li><li><p>PostgreSQL,</p></li><li><p>SAP </p></li><li><p>HANA,\u00a0</p></li><li><p>SQLite,\u00a0</p></li><li><p>GeoPackage</p></li><li><p>Teradata</p></li></ul>Supported Services<ul><li>WMS, WFS, XYZ Tiles</li></ul><ul><li>WCS, WFS, WMS, WMTS</li></ul>Extensions<ul><li>Python Scripts, Extension plugins (over 1000)</li><li>Can create python based extensions</li><li>overlap of tools between extensions can be confusing for new users</li></ul><ul><li>Python Scripts, plug-ins</li><li>Can create python based 'toolboxes'</li></ul>Image Processing<ul><li>Raster Analysis<ul><li>raster calculator</li><li>raster stastics</li><li>raster alignment</li><li>reclassify</li><li>zonal</li></ul></li><li>\u00a0Extensions add more capabilities<ul><li>Semi-automatic classification plugin (SCP)<ul><li>supervised classification</li></ul></li></ul></li></ul><ul><li>Image Analyst Extetnsion<ul><li>interpretations and explortation</li><li>information product creation</li><li>advanced measurments from imagery</li><li>feature compilation and measurments on stero imagery</li><li>advanced analysis worksflows for ML,\u00a0Deep Learning<ul><li>change detection</li></ul></li><li>feature extraction, classification,\u00a0</li><li>multidimensional analysis</li><li>raster and geoprocessing tools</li><li>List of ArcGIS Image Analyst geoprocessing tools</li><li>List of ArcGIS Image Analyst raster functions</li></ul></li></ul>Analysis\u00a0<ul><li>Spatial Operations</li><li>Extensions may need to be installed for specialized analysis<ul><li>most are FOSS</li></ul></li><li>Topology results are not affected by cluser tolerance</li><li>Network analysis requires plugin<ul><li>api</li></ul></li></ul><ul><li>More out of box capabilites BUT...<ul><li>Licensed tools, extensions - might cost extra</li><li>limitations to tools based on license</li></ul></li><li>Geonetworking, route analysis tools - license dependant.<ul><li>Network analysis requries GeoDataBase</li></ul></li><li>Supports complex network, topology and geometric networks</li><li>Geostasticial analysts built-in</li></ul>Supports<ul><li>Community support only</li><li>Limited documentation</li><li>Commercial support contractors $</li></ul><ul><li>ESRI Tech support</li><li>Excellent help documentation</li><li>ESRI training\u00a0</li></ul><ul><li>ArcMap and will be supported until March 01, 2026</li></ul>Cartography/Vis<ul><li>3D mapping\u00a0<ul><li>QGIS2three</li></ul></li><li>Extensions/Plug-ins expand power</li><li>Can view hillshade without creating seperate layer</li></ul><ul><li>Better annonations, modern symbols</li><li>? \"Advanced mapping functions\"</li><li>3d Mapping<ul><li>ArcScene</li></ul></li><li>Animated maps</li></ul>...other<ul><li>Grapic Modeler</li><li>PyQGIS - python</li><li>works on MacOS</li></ul><ul><li>Suite of software;\u00a0 curated environment\u00a0(i'm trying to say how arc enterprise is easier to use because ArcEnterprise ingiration; publishing is easier etc)<ul><li>ArcOnline not approved for publishing</li></ul></li><li>ArcPY -python</li><li>'vendor lock-in' considerations</li></ul>I will get better grabs later<p></p><ol><li>Menu Bar</li><li>Tool Bar(s)</li><li>Panels</li><li>Map view</li><li>Satus bar</li></ol><p></p><ol><li>Tabs</li><li>\u00a0Ribbon</li><li>Panels</li><li>Map view</li><li>Status Bar</li></ol><p></p>"},{"location":"disabled_pages/publish/","title":"How to publish and share","text":"<p>(placeholder) Text...</p>"},{"location":"disabled_pages/publish/#best-practices","title":"Best Practices","text":""},{"location":"disabled_pages/publish/#shapefile-is-a-bad-format","title":"Shapefile is a bad format!","text":"Here are several reasons why the Shapefile is a bad format and you should avoid its usage:  <ul> <li>No coordinate reference system definition. <li>It's a multifile format. <li>Attribute names are limited to 10 characters. <li>Only 255 attributes. The DBF file does not allow you to store more then 255 attribute fields. <li>Limited data types. Data types are limited to float, integer, date and text with a maximum 254 characters. <li>Unknown character set. There is no way to specify the character set used in the database. <li>It's limited to 2GB of file size. Although some tools are able to surpass this limit, they can never exceed 4GB of data. <li>No topology in the data. There is no way to describe topological relations in the format. <li>Single geometry type per file. There is no way to save mixed geometry features. <li>More complicated data structures are impossible to save. It's a \"flat table\" format. <li>There is no way to store 3D data with textures or appearances such as material definitions.  <li>There is  no way to store solids or parametric objects. <li>Projections definition. They are incompatible or missing. Line and polygon geometry type, single or multipart, cannot be reliably determined at the layer level, it must be determined at the individual feature level. <li>There is no NULL value, it is painful for numeric values"},{"location":"disabled_pages/storage/","title":"Storage","text":""},{"location":"disabled_pages/storage/#accessing-general-data-storage","title":"Accessing General Data Storage","text":""},{"location":"disabled_pages/storage/#fileshare","title":"Fileshare","text":"<p>1.</p> <p>2.</p> <p>3.</p>"},{"location":"disabled_pages/storage/#file-blob","title":"File Blob","text":"<p>1.</p> <p>2.</p> <p>3.</p>"}]}